(()=>{var e={8:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toMatcher=t.toRegex=void 0;const escapeRe=e=>/[.^$+{}()|\\]/.test(e)?`\\${e}`:e;const parseExtGlob=(e,r,i,s)=>{let n=r;const o=[];let c="";let a=1;while(n<e.length&&a>0){const t=e[n];if(t==="("){a++;c+=t;n++}else if(t===")"){a--;if(a===0){o.push(c);n++;break}else{c+=t;n++}}else if(t==="|"&&a===1){o.push(c);c="";n++}else{c+=t;n++}}if(a!==0)return;let l="";const f=o.length;for(let e=0;e<f;e++)l+=(l?"|":"")+(0,t.toRegex)(o[e],s).source.replace(/^\^/,"").replace(/\$$/,"");switch(i){case"?":return[`(?:${l})?`,n];case"*":return[`(?:${l})*`,n];case"+":return[`(?:${l})+`,n];case"@":return[`(?:${l})`,n];case"!":return[`(?!${l})[^/]*`,n]}return};const toRegex=(e,r)=>{let i="";let s=0;const parseBraceGroup=()=>{s++;const i=[];let n="";let o=false;while(s<e.length){const t=e[s];if(t==="}"){i.push(n);s++;o=true;break}if(t===","){i.push(n);n="";s++;continue}n+=t;s++}if(!o){return"\\{"+escapeRe(n)}const c=i.map((e=>(0,t.toRegex)(e,r).source.replace(/^\^/,"").replace(/\$$/,""))).join("|");return`(?:${c})`};const n=!!r?.extglob;while(s<e.length){const t=e[s];if(n&&e[s+1]==="("){if(t==="?"||t==="*"||t==="+"||t==="@"||t==="!"){const n=parseExtGlob(e,s+2,t,r);if(n){i+=n[0];s=n[1];continue}}}switch(t){case"*":{if(e[s+1]==="*"){let t=s+2;while(e[t]==="*")t++;if(e[t]==="/"){i+="(?:.*/)?";s=t+1}else{i+=".*";s=t}}else{i+="[^/]*";s++}break}case"?":i+="[^/]";s++;break;case"[":{let t="[";s++;if(s<e.length&&e[s]==="!"){t+="^";s++}if(s<e.length&&e[s]==="]"){t+="]";s++}while(s<e.length&&e[s]!=="]"){const r=e[s];t+=r==="\\"?"\\\\":r;s++}if(s<e.length&&e[s]==="]"){t+="]";s++}else{i+="\\[";continue}i+=t;break}case"{":{i+=parseBraceGroup();break}case"/":i+="/";s++;break;case".":case"^":case"$":case"+":case"(":case")":case"|":case"\\":i+=`\\${t}`;s++;break;default:i+=t;s++;break}}const o=r?.nocase?"i":"";return new RegExp("^"+i+"$",o)};t.toRegex=toRegex;const r=/^\/(.{1,4096})\/([gimsuy]{0,6})$/;const toMatcher=(e,i)=>{const s=[];const n=Array.isArray(e)?e:[e];for(const e of n){if(typeof e==="string"){const n=r.exec(e);if(n){const[,e,t]=n;s.push(new RegExp(e,t))}else{s.push((0,t.toRegex)(e,i))}}else{s.push(e)}}return s.length?new Function("p","return "+s.map((e=>e+".test(p)")).join("||")):()=>false};t.toMatcher=toMatcher},263:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.constants=t.SEP=void 0;t.SEP="/";t.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_SYMLINK:2097152,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}},588:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.File=void 0;const i=r(263);const{O_APPEND:s}=i.constants;class File{constructor(e,t,r,i){this.link=e;this.node=t;this.flags=r;this.fd=i;this.position=0;if(this.flags&s)this.position=this.getSize()}getString(e="utf8"){return this.node.getString()}setString(e){this.node.setString(e)}getBuffer(){return this.node.getBuffer()}setBuffer(e){this.node.setBuffer(e)}getSize(){return this.node.getSize()}truncate(e){this.node.truncate(e)}seekTo(e){this.position=e}write(e,t=0,r=e.length,i){if(typeof i!=="number")i=this.position;const s=this.node.write(e,t,r,i);this.position=i+s;return s}read(e,t=0,r=e.byteLength,i){if(typeof i!=="number")i=this.position;const s=this.node.read(e,t,r,i);this.position=i+s;return s}chmod(e){this.node.chmod(e)}chown(e,t){this.node.chown(e,t)}}t.File=File},86:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Link=void 0;const i=r(263);const s=r(697);const{S_IFREG:n}=i.constants;class Link{get steps(){return this._steps}set steps(e){this._steps=e;for(const[e,t]of this.children.entries()){if(e==="."||e===".."){continue}t?.syncSteps()}}constructor(e,t,r){this.changes=new s.FanOut;this.children=new Map;this._steps=[];this.ino=0;this.length=0;this.vol=e;this.parent=t;this.name=r;this.syncSteps()}setNode(e){this.node=e;this.ino=e.ino}getNode(){return this.node}createChild(e,t=this.vol.createNode(n|438)){const r=new Link(this.vol,this,e);r.setNode(t);if(t.isDirectory()){r.children.set(".",r);r.getNode().nlink++}this.setChild(e,r);return r}setChild(e,t=new Link(this.vol,this,e)){this.children.set(e,t);t.parent=this;this.length++;const r=t.getNode();if(r.isDirectory()){t.children.set("..",this);this.getNode().nlink++}this.getNode().mtime=new Date;this.changes.emit(["child:add",t,this]);return t}deleteChild(e){const t=e.getNode();if(t.isDirectory()){e.children.delete("..");this.getNode().nlink--}this.children.delete(e.getName());this.length--;this.getNode().mtime=new Date;this.changes.emit(["child:del",e,this])}getChild(e){this.getNode().atime=new Date;return this.children.get(e)}getPath(){return this.steps.join("/")}getParentPath(){return this.steps.slice(0,-1).join("/")}getName(){return this.steps[this.steps.length-1]}toJSON(){return{steps:this.steps,ino:this.ino,children:Array.from(this.children.keys())}}syncSteps(){this.steps=this.parent?this.parent.steps.concat([this.name]):[this.name]}}t.Link=Link},730:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Node=void 0;const i=r(697);const s=r(531);const n=r(970);const o=r(263);const{S_IFMT:c,S_IFDIR:a,S_IFREG:l,S_IFLNK:f,S_IFCHR:h}=o.constants;const getuid=()=>s.default.getuid?.()??0;const getgid=()=>s.default.getgid?.()??0;const u=(0,n.bufferAllocUnsafe)(0);class Node{constructor(e,t=438){this.changes=new i.FanOut;this._uid=getuid();this._gid=getgid();this._atime=new Date;this._mtime=new Date;this._ctime=new Date;this.buf=u;this.capacity=0;this.size=0;this.rdev=0;this._nlink=1;this.mode=t;this.ino=e}set ctime(e){this._ctime=e}get ctime(){return this._ctime}set uid(e){this._uid=e;this.ctime=new Date}get uid(){return this._uid}set gid(e){this._gid=e;this.ctime=new Date}get gid(){return this._gid}set atime(e){this._atime=e}get atime(){return this._atime}set mtime(e){this._mtime=e;this.ctime=new Date}get mtime(){return this._mtime}get perm(){return this.mode&~c}set perm(e){this.mode=this.mode&c|e&~c;this.ctime=new Date}set nlink(e){this._nlink=e;this.ctime=new Date}get nlink(){return this._nlink}getString(e="utf8"){this.atime=new Date;return this.getBuffer().toString(e)}setString(e){this._setBuf((0,n.bufferFrom)(e,"utf8"))}getBuffer(){this.atime=new Date;if(!this.buf)this.buf=(0,n.bufferAllocUnsafe)(0);return(0,n.bufferFrom)(this.buf.subarray(0,this.size))}setBuffer(e){const t=(0,n.bufferFrom)(e);this._setBuf(t)}_setBuf(e){const t=e.length;this.buf=e;this.capacity=t;this.size=t;this.touch()}getSize(){return this.size}setModeProperty(e){this.mode=e}isFile(){return(this.mode&c)===l}isDirectory(){return(this.mode&c)===a}isSymlink(){return(this.mode&c)===f}isCharacterDevice(){return(this.mode&c)===h}makeSymlink(e){this.mode=f|438;this.symlink=e}write(e,t=0,r=e.length,i=0){const s=e.length;if(t+r>s)r=s-t;if(r<=0)return 0;const o=i+r;if(o>this.capacity){let e=Math.max(this.capacity*2,64);while(e<o)e*=2;const t=(0,n.bufferAllocUnsafe)(e);if(this.size>0)this.buf.copy(t,0,0,this.size);this.buf=t;this.capacity=e}if(i>this.size)this.buf.fill(0,this.size,i);e.copy(this.buf,i,t,t+r);if(o>this.size)this.size=o;this.touch();return r}read(e,t=0,r=e.byteLength,i=0){this.atime=new Date;if(i>=this.size)return 0;let s=r;if(s>e.byteLength)s=e.byteLength;if(s+i>this.size)s=this.size-i;if(s<=0)return 0;const o=e instanceof n.Buffer?e:n.Buffer.from(e.buffer,e.byteOffset,e.byteLength);this.buf.copy(o,t,i,i+s);return s}truncate(e=0){if(!e){this.buf=u;this.capacity=0;this.size=0;this.touch();return}if(e<=this.size)this.size=e;else{if(e>this.capacity){let t=Math.max(this.capacity*2,64);while(t<e)t*=2;const r=(0,n.bufferAllocUnsafe)(t);if(this.size>0)this.buf.copy(r,0,0,this.size);r.fill(0,this.size,e);this.buf=r;this.capacity=t}else this.buf.fill(0,this.size,e);this.size=e}this.touch()}chmod(e){this.mode=this.mode&c|e&~c;this.touch()}chown(e,t){this.uid=e;this.gid=t;this.touch()}touch(){this.mtime=new Date;this.changes.emit(["modify"])}canRead(e=getuid(),t=getgid()){if(this.perm&4){return true}if(t===this.gid){if(this.perm&32){return true}}if(e===this.uid){if(this.perm&256){return true}}return false}canWrite(e=getuid(),t=getgid()){if(this.perm&2){return true}if(t===this.gid){if(this.perm&16){return true}}if(e===this.uid){if(this.perm&128){return true}}return false}canExecute(e=getuid(),t=getgid()){if(this.perm&1){return true}if(t===this.gid){if(this.perm&8){return true}}if(e===this.uid){if(this.perm&64){return true}}return false}del(){this.changes.emit(["delete"])}toJSON(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}}}t.Node=Node},338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Superblock=void 0;const i=r(508);const s=r(730);const n=r(86);const o=r(588);const c=r(970);const a=r(531);const l=r(263);const f=r(982);const h=r(547);const u=r(638);const d=r(732);const p=i.posix?i.posix.sep:i.sep;const m=i.posix?i.posix.relative:i.relative;const y=i.posix?i.posix.join:i.join;const{O_RDONLY:g,O_WRONLY:_,O_RDWR:b,O_CREAT:w,O_EXCL:S,O_TRUNC:v,O_APPEND:O,O_DIRECTORY:F}=l.constants;class Superblock{static fromJSON(e,t){const r=new Superblock;r.fromJSON(e,t);return r}static fromNestedJSON(e,t){const r=new Superblock;r.fromNestedJSON(e,t);return r}constructor(e={}){this.ino=0;this.inodes={};this.releasedInos=[];this.fds={};this.releasedFds=[];this.maxFiles=1e4;this.openFiles=0;this.open=(e,t,r,i=true)=>{const s=this.openFile(e,t,r,i);if(!s)throw(0,h.createError)("ENOENT","open",e);return s.fd};this.writeFile=(e,t,r,i)=>{const s=typeof e==="number";let n;if(s)n=e;else n=this.open((0,h.pathToFilename)(e),r,i);let o=0;let c=t.length;let a=r&O?undefined:0;try{while(c>0){const e=this.write(n,t,o,c,a);o+=e;c-=e;if(a!==undefined)a+=e}}finally{if(!s)this.close(n)}};this.read=(e,t,r,i,s)=>{if(t.byteLength<i){throw(0,h.createError)("ERR_OUT_OF_RANGE","read",undefined,undefined,RangeError)}const n=this.getFileByFdOrThrow(e);if(n.node.isSymlink()){throw(0,h.createError)("EPERM","read",n.link.getPath())}return n.read(t,Number(r),Number(i),s===-1||typeof s!=="number"?undefined:s)};this.readv=(e,t,r)=>{const i=this.getFileByFdOrThrow(e);let s=r??undefined;if(s===-1)s=undefined;let n=0;for(const e of t){const t=i.read(e,0,e.byteLength,s);s=undefined;n+=t;if(t<e.byteLength)break}return n};this.link=(e,t)=>{let r;try{r=this.getLinkOrThrow(e,"link")}catch(r){if(r.code)r=(0,h.createError)(r.code,"link",e,t);throw r}const s=(0,i.dirname)(t);let n;try{n=this.getLinkOrThrow(s,"link")}catch(r){if(r.code)r=(0,h.createError)(r.code,"link",e,t);throw r}const o=(0,i.basename)(t);if(n.getChild(o))throw(0,h.createError)("EEXIST","link",e,t);const c=r.getNode();c.nlink++;n.createChild(o,c)};this.unlink=e=>{const t=this.getLinkOrThrow(e,"unlink");if(t.length)throw Error("Dir not empty...");this.deleteLink(t);const r=t.getNode();r.nlink--;if(r.nlink<=0){this.deleteNode(r)}};this.symlink=(e,t)=>{const r=(0,u.filenameToSteps)(t);let i;try{i=this.getLinkParentAsDirOrThrow(r)}catch(r){if(r.code)r=(0,h.createError)(r.code,"symlink",e,t);throw r}const s=r[r.length-1];if(i.getChild(s))throw(0,h.createError)("EEXIST","symlink",e,t);const n=i.getNode();if(!n.canExecute()||!n.canWrite())throw(0,h.createError)("EACCES","symlink",e,t);const o=i.createChild(s);o.getNode().makeSymlink(e);return o};this.rename=(e,t)=>{let r;try{r=this.getResolvedLinkOrThrow(e)}catch(r){if(r.code)r=(0,h.createError)(r.code,"rename",e,t);throw r}let s;try{s=this.getLinkParentAsDirOrThrow(t)}catch(r){if(r.code)r=(0,h.createError)(r.code,"rename",e,t);throw r}const n=r.parent;if(!n)throw(0,h.createError)("EINVAL","rename",e,t);const o=n.getNode();const c=s.getNode();if(!o.canExecute()||!o.canWrite()||!c.canExecute()||!c.canWrite()){throw(0,h.createError)("EACCES","rename",e,t)}n.deleteChild(r);const a=(0,i.basename)(t);r.name=a;r.steps=[...s.steps,a];s.setChild(r.getName(),r)};this.mkdir=(e,t)=>{const r=(0,u.filenameToSteps)(e);if(!r.length)throw(0,h.createError)("EEXIST","mkdir",e);const i=this.getLinkParentAsDirOrThrow(e,"mkdir");const s=r[r.length-1];if(i.getChild(s))throw(0,h.createError)("EEXIST","mkdir",e);const n=i.getNode();if(!n.canWrite()||!n.canExecute())throw(0,h.createError)("EACCES","mkdir",e);i.createChild(s,this.createNode(l.constants.S_IFDIR|t))};this.mkdirp=(e,t)=>{let r=false;const s=(0,u.filenameToSteps)(e);let n=null;let o=s.length;for(o=s.length;o>=0;o--){n=this.getResolvedLink(s.slice(0,o));if(n)break}if(!n){n=this.root;o=0}n=this.getResolvedLinkOrThrow(i.sep+s.slice(0,o).join(i.sep),"mkdir");for(o;o<s.length;o++){const i=n.getNode();if(i.isDirectory()){if(!i.canExecute()||!i.canWrite())throw(0,h.createError)("EACCES","mkdir",e)}else{throw(0,h.createError)("ENOTDIR","mkdir",e)}r=true;n=n.createChild(s[o],this.createNode(l.constants.S_IFDIR|t))}return r?e:undefined};this.rmdir=(e,t=false)=>{const r=this.getLinkAsDirOrThrow(e,"rmdir");if(r.length&&!t)throw(0,h.createError)("ENOTEMPTY","rmdir",e);this.deleteLink(r)};this.rm=(e,t=false,r=false)=>{let i;try{i=this.getResolvedLinkOrThrow(e,"stat")}catch(e){if(e.code==="ENOENT"&&t)return;else throw e}if(i.getNode().isDirectory()&&!r)throw(0,h.createError)("ERR_FS_EISDIR","rm",e);if(!i.parent?.getNode().canWrite())throw(0,h.createError)("EACCES","rm",e);this.deleteLink(i)};this.close=e=>{(0,u.validateFd)(e);const t=this.getFileByFdOrThrow(e,"close");this.closeFile(t)};const t=this.createLink();t.setNode(this.createNode(l.constants.S_IFDIR|511));t.setChild(".",t);t.getNode().nlink++;t.setChild("..",t);t.getNode().nlink++;this.root=t}createLink(e,t,r=false,i){if(!e){return new n.Link(this,void 0,"")}if(!t){throw new Error("createLink: name cannot be empty")}const s=i??(r?511:438);const o=i&&i&l.constants.S_IFMT;const c=o?i&l.constants.S_IFMT:r?l.constants.S_IFDIR:l.constants.S_IFREG;const a=s&~l.constants.S_IFMT|c;return e.createChild(t,this.createNode(a))}deleteLink(e){const t=e.parent;if(t){t.deleteChild(e);return true}return false}newInoNumber(){const e=this.releasedInos.pop();if(e)return e;else{this.ino=(this.ino+1)%4294967295;return this.ino}}newFdNumber(){const e=this.releasedFds.pop();return typeof e==="number"?e:Superblock.fd--}createNode(e){const t=new s.Node(this.newInoNumber(),e);this.inodes[t.ino]=t;return t}deleteNode(e){e.del();delete this.inodes[e.ino];this.releasedInos.push(e.ino)}walk(e,t=false,r=false,s=false,o){let c;let l;if(e instanceof n.Link){c=e.steps;l=p+c.join(p)}else if(typeof e==="string"){c=(0,u.filenameToSteps)(e);l=e}else{c=e;l=p+c.join(p)}let f=this.root;let d=0;while(d<c.length){let e=f.getNode();if(e.isDirectory()){if(s&&!e.canExecute()){throw(0,h.createError)("EACCES",o,l)}}else{if(d<c.length-1)throw(0,h.createError)("ENOTDIR",o,l)}f=f.getChild(c[d])??null;if(!f)if(r)throw(0,h.createError)("ENOENT",o,l);else return null;e=f?.getNode();if(e.isSymlink()&&(t||d<c.length-1)){const t=(0,i.isAbsolute)(e.symlink)?e.symlink:y((0,i.dirname)(f.getPath()),e.symlink);c=(0,u.filenameToSteps)(t).concat(c.slice(d+1));f=this.root;d=0;continue}if(r&&!e.isDirectory()&&d<c.length-1){const e=a.default.platform==="win32"?"ENOENT":"ENOTDIR";throw(0,h.createError)(e,o,l)}d++}return f}getLink(e){return this.walk(e,false,false,false)}getLinkOrThrow(e,t){return this.walk(e,false,true,true,t)}getResolvedLink(e){return this.walk(e,true,false,false)}getResolvedLinkOrThrow(e,t){return this.walk(e,true,true,true,t)}resolveSymlinks(e){return this.getResolvedLink(e.steps.slice(1))}getLinkAsDirOrThrow(e,t){const r=this.getLinkOrThrow(e,t);if(!r.getNode().isDirectory())throw(0,h.createError)("ENOTDIR",t,e);return r}getLinkParent(e){return this.getLink(e.slice(0,-1))}getLinkParentAsDirOrThrow(e,t){const r=(e instanceof Array?e:(0,u.filenameToSteps)(e)).slice(0,-1);const i=p+r.join(p);const s=this.getLinkOrThrow(i,t);if(!s.getNode().isDirectory())throw(0,h.createError)("ENOTDIR",t,i);return s}getFileByFd(e){return this.fds[String(e)]}getFileByFdOrThrow(e,t){if(!(0,u.isFd)(e))throw TypeError(f.ERRSTR.FD);const r=this.getFileByFd(e);if(!r)throw(0,h.createError)("EBADF",t);return r}_toJSON(e=this.root,t={},r,i){let s=true;let n=e.children;if(e.getNode().isFile()){n=new Map([[e.getName(),e.parent.getChild(e.getName())]]);e=e.parent}for(const o of n.keys()){if(o==="."||o===".."){continue}s=false;const n=e.getChild(o);if(!n){throw new Error("_toJSON: unexpected undefined")}const c=n.getNode();if(c.isFile()){let e=n.getPath();if(r)e=m(r,e);t[e]=i?c.getBuffer():c.getString()}else if(c.isDirectory()){this._toJSON(n,t,r,i)}}let o=e.getPath();if(r)o=m(r,o);if(o&&s){t[o]=null}return t}toJSON(e,t={},r=false,i=false){const s=[];if(e){if(!Array.isArray(e))e=[e];for(const t of e){const e=(0,h.pathToFilename)(t);const r=this.getResolvedLink(e);if(!r)continue;s.push(r)}}else{s.push(this.root)}if(!s.length)return t;for(const e of s)this._toJSON(e,t,r?e.getPath():"",i);return t}fromJSON(e,t=a.default.cwd()){for(let r in e){const s=e[r];r=(0,u.resolve)(r,t);if(typeof s==="string"||s instanceof c.Buffer){const e=(0,i.dirname)(r);this.mkdirp(e,511);const t=(0,u.dataToBuffer)(s);this.writeFile(r,t,f.FLAGS.w,438)}else{this.mkdirp(r,511)}}}fromNestedJSON(e,t){this.fromJSON((0,d.flattenJSON)(e),t)}reset(){this.ino=0;this.inodes={};this.releasedInos=[];this.fds={};this.releasedFds=[];this.openFiles=0;this.root=this.createLink();this.root.setNode(this.createNode(l.constants.S_IFDIR|511))}mountSync(e,t){this.fromJSON(t,e)}openLink(e,t,r=true){if(this.openFiles>=this.maxFiles){throw(0,h.createError)("EMFILE","open",e.getPath())}let i=e;if(r)i=this.getResolvedLinkOrThrow(e.getPath(),"open");const s=i.getNode();if(s.isDirectory()){if((t&(g|b|_))!==g)throw(0,h.createError)("EISDIR","open",e.getPath())}else{if(t&F)throw(0,h.createError)("ENOTDIR","open",e.getPath())}if((t&(g|b|_))!==_){if(!s.canRead()){throw(0,h.createError)("EACCES","open",e.getPath())}}if(t&(_|b)){if(!s.canWrite()){throw(0,h.createError)("EACCES","open",e.getPath())}}const n=new o.File(e,s,t,this.newFdNumber());this.fds[n.fd]=n;this.openFiles++;if(t&v)n.truncate();return n}openFile(e,t,r,s=true){const n=(0,u.filenameToSteps)(e);let o;try{o=s?this.getResolvedLinkOrThrow(e,"open"):this.getLinkOrThrow(e,"open");if(o&&t&w&&t&S)throw(0,h.createError)("EEXIST","open",e)}catch(s){if(s.code==="ENOENT"&&t&w){const t=(0,i.dirname)(e);const s=this.getResolvedLinkOrThrow(t);const c=s.getNode();if(!c.isDirectory())throw(0,h.createError)("ENOTDIR","open",e);if(!c.canExecute()||!c.canWrite())throw(0,h.createError)("EACCES","open",e);r??(r=438);o=this.createLink(s,n[n.length-1],false,r)}else throw s}if(o)return this.openLink(o,t,s);throw(0,h.createError)("ENOENT","open",e)}closeFile(e){if(!this.fds[e.fd])return;this.openFiles--;delete this.fds[e.fd];this.releasedFds.push(e.fd)}write(e,t,r,i,s){const n=this.getFileByFdOrThrow(e,"write");if(n.node.isSymlink()){throw(0,h.createError)("EBADF","write",n.link.getPath())}return n.write(t,r,i,s===-1||typeof s!=="number"?undefined:s)}}t.Superblock=Superblock;Superblock.fd=2147483647},836:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Superblock=t.File=t.Link=t.Node=void 0;const i=r(824);i.__exportStar(r(1),t);i.__exportStar(r(732),t);var s=r(730);Object.defineProperty(t,"Node",{enumerable:true,get:function(){return s.Node}});var n=r(86);Object.defineProperty(t,"Link",{enumerable:true,get:function(){return n.Link}});var o=r(588);Object.defineProperty(t,"File",{enumerable:true,get:function(){return o.File}});var c=r(338);Object.defineProperty(t,"Superblock",{enumerable:true,get:function(){return c.Superblock}})},732:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.flattenJSON=void 0;const i=r(970);const s=r(508);const n=s.posix?s.posix.join:s.join;const flattenJSON=e=>{const t={};function flatten(e,r){for(const s in r){const o=r[s];const c=n(e,s);if(typeof o==="string"||o instanceof i.Buffer){t[c]=o}else if(typeof o==="object"&&o!==null&&!(o instanceof i.Buffer)&&Object.keys(o).length>0){flatten(c,o)}else{t[c]=null}}}flatten("",e);return t};t.flattenJSON=flattenJSON},1:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.filenameToSteps=t.resolve=t.unixify=t.isWin=void 0;t.isFd=isFd;t.validateFd=validateFd;t.dataToBuffer=dataToBuffer;const i=r(508);const s=r(970);const n=r(531);const o=r(897);const c=r(982);t.isWin=n.default.platform==="win32";const a=i.resolve;const l=i.posix?i.posix.sep:i.sep;const isSeparator=(e,r)=>{let i=e[r];return r>0&&(i==="/"||t.isWin&&i==="\\")};const removeTrailingSeparator=e=>{let t=e.length-1;if(t<2)return e;while(isSeparator(e,t))t--;return e.substr(0,t+1)};const normalizePath=(e,t)=>{if(typeof e!=="string")throw new TypeError("expected a string");e=e.replace(/[\\\/]+/g,"/");if(t!==false)e=removeTrailingSeparator(e);return e};const unixify=(e,r=true)=>{if(t.isWin){e=normalizePath(e,r);return e.replace(/^([a-zA-Z]+:|\.\/)/,"")}return e};t.unixify=unixify;let resolve=(e,t=n.default.cwd())=>a(t,e);t.resolve=resolve;if(t.isWin){const e=resolve;t.resolve=resolve=(r,i)=>(0,t.unixify)(e(r,i))}const filenameToSteps=(e,t)=>{const r=resolve(e,t);const i=r.substring(1);if(!i)return[];return i.split(l)};t.filenameToSteps=filenameToSteps;function isFd(e){return e>>>0===e}function validateFd(e){if(!isFd(e))throw TypeError(c.ERRSTR.FD)}function dataToBuffer(e,t=o.ENCODING_UTF8){if(s.Buffer.isBuffer(e))return e;else if(e instanceof Uint8Array)return(0,s.bufferFrom)(e);else if(t==="buffer")return(0,s.bufferFrom)(String(e),"utf8");else return(0,s.bufferFrom)(String(e),t)}},897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ENCODING_UTF8=void 0;t.assertEncoding=assertEncoding;t.strToEncoding=strToEncoding;const i=r(970);const s=r(127);t.ENCODING_UTF8="utf8";function assertEncoding(e){if(e&&!i.Buffer.isEncoding(e))throw new s.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",e)}function strToEncoding(e,r){if(!r||r===t.ENCODING_UTF8)return e;if(r==="buffer")return new i.Buffer(e);return new i.Buffer(e).toString(r)}},30:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.memfs=t.fs=t.vol=t.Volume=void 0;t.createFsFromVolume=createFsFromVolume;const i=r(504);const s=r(107);const n=r(5);Object.defineProperty(t,"Volume",{enumerable:true,get:function(){return n.Volume}});const o=r(263);const c=r(817);const a=r(889);const{F_OK:l,R_OK:f,W_OK:h,X_OK:u}=o.constants;t.vol=new n.Volume;function createFsFromVolume(e){const t={F_OK:l,R_OK:f,W_OK:h,X_OK:u,constants:o.constants,Stats:i.default,Dirent:s.default};for(const r of c.fsSynchronousApiList)if(typeof e[r]==="function")t[r]=e[r].bind(e);for(const r of a.fsCallbackApiList)if(typeof e[r]==="function")t[r]=e[r].bind(e);t.StatWatcher=e.StatWatcher;t.FSWatcher=e.FSWatcher;t.WriteStream=e.WriteStream;t.ReadStream=e.ReadStream;t.promises=e.promises;if(typeof e.realpath==="function"){t.realpath=e.realpath.bind(e);if(typeof e.realpath.native==="function"){t.realpath.native=e.realpath.native.bind(e)}}if(typeof e.realpathSync==="function"){t.realpathSync=e.realpathSync.bind(e);if(typeof e.realpathSync.native==="function"){t.realpathSync.native=e.realpathSync.native.bind(e)}}t._toUnixTimestamp=n.toUnixTimestamp;t.__vol=e;return t}t.fs=createFsFromVolume(t.vol);const memfs=(e={},t="/")=>{const r=n.Volume.fromNestedJSON(e,t);const i=createFsFromVolume(r);return{fs:i,vol:r}};t.memfs=memfs;e.exports={...e.exports,...t.fs};e.exports.semantic=true},174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.newNotAllowedError=t.newTypeMismatchError=t.newNotFoundError=t.assertCanWrite=t.assertName=t.basename=t.ctx=void 0;const ctx=(e={})=>({separator:"/",syncHandleAllowed:false,mode:"read",...e});t.ctx=ctx;const basename=(e,t)=>{if(e[e.length-1]===t)e=e.slice(0,-1);const r=e.lastIndexOf(t);return r===-1?e:e.slice(r+1)};t.basename=basename;const r=/^(\.{1,2})$|^(.*([\/\\]).*)$/;const assertName=(e,t,i)=>{const s=!e||r.test(e);if(s)throw new TypeError(`Failed to execute '${t}' on '${i}': Name is not allowed.`)};t.assertName=assertName;const assertCanWrite=e=>{if(e!=="readwrite")throw new DOMException("The request is not allowed by the user agent or the platform in the current context.","NotAllowedError")};t.assertCanWrite=assertCanWrite;const newNotFoundError=()=>new DOMException("A requested file or directory could not be found at the time an operation was processed.","NotFoundError");t.newNotFoundError=newNotFoundError;const newTypeMismatchError=()=>new DOMException("The path supplied exists, but was not an entry of requested type.","TypeMismatchError");t.newTypeMismatchError=newTypeMismatchError;const newNotAllowedError=()=>new DOMException("Permission not granted.","NotAllowedError");t.newNotAllowedError=newNotAllowedError},892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Dir=void 0;const i=r(547);const s=r(107);const n=r(127);class Dir{constructor(e,t){this.link=e;this.options=t;this.iteratorInfo=[];this.closed=false;this.operationQueue=null;this.path=e.getPath();this.iteratorInfo.push(e.children[Symbol.iterator]())}closeBase(){}readBase(e){let t;let r;let i;let n;do{do{({done:t,value:r}=e[e.length-1].next());if(!t){[i,n]=r}else{break}}while(i==="."||i==="..");if(t){e.pop();if(e.length===0){break}else{t=false}}else{if(this.options.recursive&&n.children.size){e.push(n.children[Symbol.iterator]())}return s.default.build(n,this.options.encoding)}}while(!t);return null}close(e){if(e===undefined){if(this.closed){return Promise.reject(new n.Error("ERR_DIR_CLOSED"))}return new Promise(((e,t)=>{this.close((r=>{if(r)t(r);else e()}))}))}(0,i.validateCallback)(e);if(this.closed){process.nextTick(e,new n.Error("ERR_DIR_CLOSED"));return}if(this.operationQueue!==null){this.operationQueue.push((()=>{this.close(e)}));return}this.closed=true;try{this.closeBase();process.nextTick(e)}catch(t){process.nextTick(e,t)}}closeSync(){if(this.closed){throw new n.Error("ERR_DIR_CLOSED")}if(this.operationQueue!==null){throw new n.Error("ERR_DIR_CONCURRENT_OPERATION")}this.closed=true;this.closeBase()}read(e){if(e===undefined){return new Promise(((e,t)=>{this.read(((r,i)=>{if(r)t(r);else e(i??null)}))}))}(0,i.validateCallback)(e);if(this.closed){process.nextTick(e,new n.Error("ERR_DIR_CLOSED"));return}if(this.operationQueue!==null){this.operationQueue.push((()=>{this.read(e)}));return}this.operationQueue=[];try{const t=this.readBase(this.iteratorInfo);process.nextTick((()=>{const r=this.operationQueue;this.operationQueue=null;for(const e of r)e();e(null,t)}))}catch(t){process.nextTick((()=>{const r=this.operationQueue;this.operationQueue=null;for(const e of r)e();e(t)}))}}readSync(){if(this.closed){throw new n.Error("ERR_DIR_CLOSED")}if(this.operationQueue!==null){throw new n.Error("ERR_DIR_CONCURRENT_OPERATION")}return this.readBase(this.iteratorInfo)}[Symbol.asyncIterator](){return{next:async()=>{try{const e=await this.read();if(e!==null){return{done:false,value:e}}else{return{done:true,value:undefined}}}catch(e){throw e}},[Symbol.asyncIterator](){return this}}}}t.Dir=Dir},107:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Dirent=void 0;const i=r(263);const s=r(897);const{S_IFMT:n,S_IFDIR:o,S_IFREG:c,S_IFBLK:a,S_IFCHR:l,S_IFLNK:f,S_IFIFO:h,S_IFSOCK:u}=i.constants;class Dirent{constructor(){this.name="";this.path="";this.parentPath="";this.mode=0}static build(e,t){const r=new Dirent;const{mode:i}=e.getNode();r.name=(0,s.strToEncoding)(e.getName(),t);r.mode=i;r.path=e.getParentPath();r.parentPath=r.path;return r}_checkModeProperty(e){return(this.mode&n)===e}isDirectory(){return this._checkModeProperty(o)}isFile(){return this._checkModeProperty(c)}isBlockDevice(){return this._checkModeProperty(a)}isCharacterDevice(){return this._checkModeProperty(l)}isSymbolicLink(){return this._checkModeProperty(f)}isFIFO(){return this._checkModeProperty(h)}isSocket(){return this._checkModeProperty(u)}}t.Dirent=Dirent;t["default"]=Dirent},935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FileHandle=void 0;const i=r(547);const s=r(397);class FileHandle extends s.EventEmitter{constructor(e,t){super();this.refs=1;this.closePromise=null;this.position=0;this.readableWebStreamLocked=false;this.fs=e;this.fd=t}getAsyncId(){return this.fd}appendFile(e,t){return(0,i.promisify)(this.fs,"appendFile")(this.fd,e,t)}chmod(e){return(0,i.promisify)(this.fs,"fchmod")(this.fd,e)}chown(e,t){return(0,i.promisify)(this.fs,"fchown")(this.fd,e,t)}close(){if(this.fd===-1){return Promise.resolve()}if(this.closePromise){return this.closePromise}this.refs--;if(this.refs===0){const e=this.fd;this.fd=-1;this.closePromise=(0,i.promisify)(this.fs,"close")(e).finally((()=>{this.closePromise=null}))}else{this.closePromise=new Promise(((e,t)=>{this.closeResolve=e;this.closeReject=t})).finally((()=>{this.closePromise=null;this.closeReject=undefined;this.closeResolve=undefined}))}this.emit("close");return this.closePromise}datasync(){return(0,i.promisify)(this.fs,"fdatasync")(this.fd)}createReadStream(e){return this.fs.createReadStream("",{...e,fd:this})}createWriteStream(e){return this.fs.createWriteStream("",{...e,fd:this})}readableWebStream(e={}){const{type:t="bytes",autoClose:r=false}=e;let i=0;if(this.fd===-1){throw new Error("The FileHandle is closed")}if(this.closePromise){throw new Error("The FileHandle is closing")}if(this.readableWebStreamLocked){throw new Error("An error will be thrown if this method is called more than once or is called after the FileHandle is closed or closing.")}this.readableWebStreamLocked=true;this.ref();const unlockAndCleanup=()=>{this.readableWebStreamLocked=false;this.unref();if(r){this.close().catch((()=>{}))}};return new ReadableStream({type:t==="bytes"?"bytes":undefined,autoAllocateChunkSize:16384,pull:async e=>{try{const t=e.byobRequest?.view;if(!t){const t=new Uint8Array(16384);const r=await this.read(t,0,t.length,i);if(r.bytesRead===0){e.close();unlockAndCleanup();return}i+=r.bytesRead;e.enqueue(t.slice(0,r.bytesRead));return}const r=await this.read(t,t.byteOffset,t.byteLength,i);if(r.bytesRead===0){e.close();unlockAndCleanup();return}i+=r.bytesRead;e.byobRequest.respond(r.bytesRead)}catch(t){e.error(t);unlockAndCleanup()}},cancel:async()=>{unlockAndCleanup()}})}async read(e,t,r,s){const n=s!==null&&s!==undefined?s:this.position;const o=await(0,i.promisify)(this.fs,"read",(t=>({bytesRead:t,buffer:e})))(this.fd,e,t,r,n);if(s===null||s===undefined){this.position+=o.bytesRead}return o}readv(e,t){return(0,i.promisify)(this.fs,"readv",(t=>({bytesRead:t,buffers:e})))(this.fd,e,t)}readFile(e){return(0,i.promisify)(this.fs,"readFile")(this.fd,e)}stat(e){return(0,i.promisify)(this.fs,"fstat")(this.fd,e)}sync(){return(0,i.promisify)(this.fs,"fsync")(this.fd)}truncate(e){return(0,i.promisify)(this.fs,"ftruncate")(this.fd,e)}utimes(e,t){return(0,i.promisify)(this.fs,"futimes")(this.fd,e,t)}async write(e,t,r,s){const n=typeof s!=="number";const o=n?this.position:s;const c=await(0,i.promisify)(this.fs,"write",(t=>({bytesWritten:t,buffer:e})))(this.fd,e,t,r,o);if(n){this.position+=c.bytesWritten}return c}writev(e,t){return(0,i.promisify)(this.fs,"writev",(t=>({bytesWritten:t,buffers:e})))(this.fd,e,t)}writeFile(e,t){return(0,i.promisify)(this.fs,"writeFile")(this.fd,e,t)}async[Symbol.asyncDispose](){await this.close()}ref(){this.refs++}unref(){this.refs--;if(this.refs===0){this.fd=-1;if(this.closeResolve){(0,i.promisify)(this.fs,"close")(this.fd).then(this.closeResolve,this.closeReject)}}}}t.FileHandle=FileHandle},162:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FsPromises=void 0;const i=r(547);const s=r(263);class FSWatchAsyncIterator{constructor(e,t,r={}){this.fs=e;this.path=t;this.options=r;this.eventQueue=[];this.resolveQueue=[];this.finished=false;this.maxQueue=r.maxQueue||2048;this.overflow=r.overflow||"ignore";this.startWatching();if(r.signal){if(r.signal.aborted){this.finish();return}r.signal.addEventListener("abort",(()=>{this.finish()}))}}startWatching(){try{this.watcher=this.fs.watch(this.path,this.options,((e,t)=>{this.enqueueEvent({eventType:e,filename:t})}))}catch(e){this.finish();throw e}}enqueueEvent(e){if(this.finished)return;if(this.eventQueue.length>=this.maxQueue){if(this.overflow==="throw"){const e=new Error(`Watch queue overflow: more than ${this.maxQueue} events queued`);this.finish(e);return}else{this.eventQueue.shift();console.warn(`Watch queue overflow: dropping event due to exceeding maxQueue of ${this.maxQueue}`)}}this.eventQueue.push(e);if(this.resolveQueue.length>0){const{resolve:e}=this.resolveQueue.shift();const t=this.eventQueue.shift();e({value:t,done:false})}}finish(e){if(this.finished)return;this.finished=true;if(this.watcher){this.watcher.close();this.watcher=null}while(this.resolveQueue.length>0){const{resolve:t,reject:r}=this.resolveQueue.shift();if(e){r(e)}else{t({value:undefined,done:true})}}}async next(){if(this.finished){return{value:undefined,done:true}}if(this.eventQueue.length>0){const e=this.eventQueue.shift();return{value:e,done:false}}return new Promise(((e,t)=>{this.resolveQueue.push({resolve:e,reject:t})}))}async return(){this.finish();return{value:undefined,done:true}}async throw(e){this.finish(e);throw e}[Symbol.asyncIterator](){return this}}class FsPromises{constructor(e,t){this.fs=e;this.FileHandle=t;this.constants=s.constants;this.cp=(0,i.promisify)(this.fs,"cp");this.opendir=(0,i.promisify)(this.fs,"opendir");this.statfs=(0,i.promisify)(this.fs,"statfs");this.lutimes=(0,i.promisify)(this.fs,"lutimes");this.glob=(0,i.promisify)(this.fs,"glob");this.access=(0,i.promisify)(this.fs,"access");this.chmod=(0,i.promisify)(this.fs,"chmod");this.chown=(0,i.promisify)(this.fs,"chown");this.copyFile=(0,i.promisify)(this.fs,"copyFile");this.lchmod=(0,i.promisify)(this.fs,"lchmod");this.lchown=(0,i.promisify)(this.fs,"lchown");this.link=(0,i.promisify)(this.fs,"link");this.lstat=(0,i.promisify)(this.fs,"lstat");this.mkdir=(0,i.promisify)(this.fs,"mkdir");this.mkdtemp=(0,i.promisify)(this.fs,"mkdtemp");this.readdir=(0,i.promisify)(this.fs,"readdir");this.readlink=(0,i.promisify)(this.fs,"readlink");this.realpath=(0,i.promisify)(this.fs,"realpath");this.rename=(0,i.promisify)(this.fs,"rename");this.rmdir=(0,i.promisify)(this.fs,"rmdir");this.rm=(0,i.promisify)(this.fs,"rm");this.stat=(0,i.promisify)(this.fs,"stat");this.symlink=(0,i.promisify)(this.fs,"symlink");this.truncate=(0,i.promisify)(this.fs,"truncate");this.unlink=(0,i.promisify)(this.fs,"unlink");this.utimes=(0,i.promisify)(this.fs,"utimes");this.readFile=(e,t)=>(0,i.promisify)(this.fs,"readFile")(e instanceof this.FileHandle?e.fd:e,t);this.appendFile=(e,t,r)=>(0,i.promisify)(this.fs,"appendFile")(e instanceof this.FileHandle?e.fd:e,t,r);this.open=(e,t="r",r)=>(0,i.promisify)(this.fs,"open",(e=>new this.FileHandle(this.fs,e)))(e,t,r);this.writeFile=(e,t,r)=>{const s=(0,i.isReadableStream)(t)?(0,i.streamToBuffer)(t):Promise.resolve(t);return s.then((t=>(0,i.promisify)(this.fs,"writeFile")(e instanceof this.FileHandle?e.fd:e,t,r)))};this.watch=(e,t)=>{const r=typeof t==="string"?{encoding:t}:t||{};return new FSWatchAsyncIterator(this.fs,e,r)}}}t.FsPromises=FsPromises},382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.StatFs=void 0;class StatFs{static build(e,t=false){const r=new StatFs;const i=!t?e=>e:e=>BigInt(e);r.type=i(2240043254);r.bsize=i(4096);const s=Object.keys(e.inodes).length;const n=1e6;const o=Math.min(s*2,n);const c=n-o;r.blocks=i(n);r.bfree=i(c);r.bavail=i(c);const a=1e6;r.files=i(a);r.ffree=i(a-s);return r}}t.StatFs=StatFs;t["default"]=StatFs},504:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Stats=void 0;const i=r(263);const{S_IFMT:s,S_IFDIR:n,S_IFREG:o,S_IFBLK:c,S_IFCHR:a,S_IFLNK:l,S_IFIFO:f,S_IFSOCK:h}=i.constants;class Stats{static build(e,t=false){const r=new Stats;const{uid:i,gid:s,atime:n,mtime:o,ctime:c}=e;const a=!t?e=>e:e=>BigInt(e);r.uid=a(i);r.gid=a(s);r.rdev=a(e.rdev);r.blksize=a(4096);r.ino=a(e.ino);r.size=a(e.getSize());r.blocks=a(1);r.atime=n;r.mtime=o;r.ctime=c;r.birthtime=c;r.atimeMs=a(n.getTime());r.mtimeMs=a(o.getTime());const l=a(c.getTime());r.ctimeMs=l;r.birthtimeMs=l;if(t){r.atimeNs=BigInt(n.getTime())*BigInt(1e6);r.mtimeNs=BigInt(o.getTime())*BigInt(1e6);const e=BigInt(c.getTime())*BigInt(1e6);r.ctimeNs=e;r.birthtimeNs=e}r.dev=a(0);r.mode=a(e.mode);r.nlink=a(e.nlink);return r}_checkModeProperty(e){return(Number(this.mode)&s)===e}isDirectory(){return this._checkModeProperty(n)}isFile(){return this._checkModeProperty(o)}isBlockDevice(){return this._checkModeProperty(c)}isCharacterDevice(){return this._checkModeProperty(a)}isSymbolicLink(){return this._checkModeProperty(l)}isFIFO(){return this._checkModeProperty(f)}isSocket(){return this._checkModeProperty(h)}}t.Stats=Stats;t["default"]=Stats},982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FLAGS=t.ERRSTR=void 0;const i=r(263);t.ERRSTR={PATH_STR:"path must be a string, Buffer, or Uint8Array",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};const{O_RDONLY:s,O_WRONLY:n,O_RDWR:o,O_CREAT:c,O_EXCL:a,O_TRUNC:l,O_APPEND:f,O_SYNC:h}=i.constants;var u;(function(e){e[e["r"]=s]="r";e[e["r+"]=o]="r+";e[e["rs"]=s|h]="rs";e[e["sr"]=e.rs]="sr";e[e["rs+"]=o|h]="rs+";e[e["sr+"]=e["rs+"]]="sr+";e[e["w"]=n|c|l]="w";e[e["wx"]=n|c|l|a]="wx";e[e["xw"]=e.wx]="xw";e[e["w+"]=o|c|l]="w+";e[e["wx+"]=o|c|l|a]="wx+";e[e["xw+"]=e["wx+"]]="xw+";e[e["a"]=n|f|c]="a";e[e["ax"]=n|f|c|a]="ax";e[e["xa"]=e.ax]="xa";e[e["a+"]=o|f|c]="a+";e[e["ax+"]=o|f|c|a]="ax+";e[e["xa+"]=e["ax+"]]="xa+"})(u||(t.FLAGS=u={}))},325:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.globSync=globSync;const i=r(508);const s=r(8);const n=r(547);const o=i.posix.join;const c=i.posix.relative;const a=i.posix.resolve;function matchesPattern(e,t){const r=(0,s.toRegex)(t);return r.test(e)}function isExcluded(e,t){if(!t)return false;if(typeof t==="function"){return t(e)}const r=Array.isArray(t)?t:[t];return r.some((t=>matchesPattern(e,t)))}function walkDirectory(e,t,r,i,s=0){const a=[];const l=i.maxdepth??Infinity;const f=i.cwd?(0,n.pathToFilename)(i.cwd):process.cwd();if(s>l){return a}try{const n=e.readdirSync(t,{withFileTypes:true});for(const h of n){const n=o(t,h.name.toString());const u=c(f,n);if(isExcluded(u,i.exclude)){continue}const d=r.some((e=>matchesPattern(u,e)));if(d){a.push(u)}if(h.isDirectory()&&s<l){const t=walkDirectory(e,n,r,i,s+1);a.push(...t)}}}catch(e){}return a}function globSync(e,t,r={}){const s=r.cwd?(0,n.pathToFilename)(r.cwd):process.cwd();const o=a(s);const c={cwd:o,exclude:r.exclude,maxdepth:r.maxdepth,withFileTypes:r.withFileTypes||false};let l=[];if(i.posix.isAbsolute(t)){const r=i.posix.dirname(t);const s=i.posix.basename(t);const n=walkDirectory(e,r,[s],{...c,cwd:r});l.push(...n.map((e=>i.posix.resolve(r,e))))}else{const r=walkDirectory(e,o,[t],c);l.push(...r)}l=[...new Set(l)].sort();return l}},889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fsCallbackApiList=void 0;t.fsCallbackApiList=["access","appendFile","chmod","chown","close","copyFile","cp","createReadStream","createWriteStream","exists","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","openAsBlob","opendir","read","readv","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","unwatchFile","utimes","lutimes","watch","watchFile","write","writev","writeFile"]},817:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fsSynchronousApiList=void 0;t.fsSynchronousApiList=["accessSync","appendFileSync","chmodSync","chownSync","closeSync","copyFileSync","existsSync","fchmodSync","fchownSync","fdatasyncSync","fstatSync","fsyncSync","ftruncateSync","futimesSync","globSync","lchmodSync","lchownSync","linkSync","lstatSync","mkdirSync","mkdtempSync","openSync","opendirSync","readdirSync","readFileSync","readlinkSync","readSync","readvSync","realpathSync","renameSync","rmdirSync","rmSync","statSync","symlinkSync","truncateSync","unlinkSync","utimesSync","lutimesSync","writeFileSync","writeSync","writevSync"]},937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getWriteFileOptions=t.writeFileDefaults=t.getRealpathOptsAndCb=t.getRealpathOptions=t.getStatfsOptsAndCb=t.getStatfsOptions=t.getStatOptsAndCb=t.getStatOptions=t.getAppendFileOptsAndCb=t.getAppendFileOpts=t.getOpendirOptsAndCb=t.getOpendirOptions=t.getReaddirOptsAndCb=t.getReaddirOptions=t.getReadFileOptions=t.getRmOptsAndCb=t.getRmdirOptions=t.getDefaultOptsAndCb=t.getDefaultOpts=t.optsDefaults=t.getMkdirOptions=void 0;t.getOptions=getOptions;t.optsGenerator=optsGenerator;t.optsAndCbGenerator=optsAndCbGenerator;const i=r(982);const s=r(897);const n=r(547);const o={mode:511,recursive:false};const getMkdirOptions=e=>{if(typeof e==="number")return Object.assign({},o,{mode:e});return Object.assign({},o,e)};t.getMkdirOptions=getMkdirOptions;const ERRSTR_OPTS=e=>`Expected options to be either an object or a string, but got ${e} instead`;function getOptions(e,t){let r;if(!t)return e;else{const i=typeof t;switch(i){case"string":r=Object.assign({},e,{encoding:t});break;case"object":r=Object.assign({},e,t);break;default:throw TypeError(ERRSTR_OPTS(i))}}if(r.encoding!=="buffer")(0,s.assertEncoding)(r.encoding);return r}function optsGenerator(e){return t=>getOptions(e,t)}function optsAndCbGenerator(e){return(t,r)=>typeof t==="function"?[e(),t]:[e(t),(0,n.validateCallback)(r)]}t.optsDefaults={encoding:"utf8"};t.getDefaultOpts=optsGenerator(t.optsDefaults);t.getDefaultOptsAndCb=optsAndCbGenerator(t.getDefaultOpts);const c={recursive:false};const getRmdirOptions=e=>Object.assign({},c,e);t.getRmdirOptions=getRmdirOptions;const a=optsGenerator(t.optsDefaults);t.getRmOptsAndCb=optsAndCbGenerator(a);const l={flag:"r"};t.getReadFileOptions=optsGenerator(l);const f={encoding:"utf8",recursive:false,withFileTypes:false};t.getReaddirOptions=optsGenerator(f);t.getReaddirOptsAndCb=optsAndCbGenerator(t.getReaddirOptions);const h={encoding:"utf8",bufferSize:32,recursive:false};t.getOpendirOptions=optsGenerator(h);t.getOpendirOptsAndCb=optsAndCbGenerator(t.getOpendirOptions);const u={encoding:"utf8",mode:438,flag:i.FLAGS[i.FLAGS.a]};t.getAppendFileOpts=optsGenerator(u);t.getAppendFileOptsAndCb=optsAndCbGenerator(t.getAppendFileOpts);const d={bigint:false};const getStatOptions=(e={})=>Object.assign({},d,e);t.getStatOptions=getStatOptions;const getStatOptsAndCb=(e,r)=>typeof e==="function"?[(0,t.getStatOptions)(),e]:[(0,t.getStatOptions)(e),(0,n.validateCallback)(r)];t.getStatOptsAndCb=getStatOptsAndCb;const p={bigint:false};const getStatfsOptions=(e={})=>Object.assign({},p,e);t.getStatfsOptions=getStatfsOptions;const getStatfsOptsAndCb=(e,r)=>typeof e==="function"?[(0,t.getStatfsOptions)(),e]:[(0,t.getStatfsOptions)(e),(0,n.validateCallback)(r)];t.getStatfsOptsAndCb=getStatfsOptsAndCb;const m=t.optsDefaults;t.getRealpathOptions=optsGenerator(m);t.getRealpathOptsAndCb=optsAndCbGenerator(t.getRealpathOptions);t.writeFileDefaults={encoding:"utf8",mode:438,flag:i.FLAGS[i.FLAGS.w]};t.getWriteFileOptions=optsGenerator(t.writeFileDefaults)},547:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getWriteSyncArgs=t.getWriteArgs=t.bufToUint8=void 0;t.promisify=promisify;t.validateCallback=validateCallback;t.modeToNumber=modeToNumber;t.nullCheck=nullCheck;t.pathToFilename=pathToFilename;t.createError=createError;t.genRndStr6=genRndStr6;t.flagsToNumber=flagsToNumber;t.streamToBuffer=streamToBuffer;t.bufferToEncoding=bufferToEncoding;t.isReadableStream=isReadableStream;const i=r(982);const s=r(127);const n=r(970);const o=r(164);const c=r(638);function promisify(e,t,r=e=>e){return(...i)=>new Promise(((s,n)=>{e[t].bind(e)(...i,((e,t)=>{if(e)return n(e);return s(r(t))}))}))}function validateCallback(e){if(typeof e!=="function")throw TypeError(i.ERRSTR.CB);return e}function _modeToNumber(e,t){if(typeof e==="number")return e;if(typeof e==="string")return parseInt(e,8);if(t)return modeToNumber(t);return undefined}function modeToNumber(e,t){const r=_modeToNumber(e,t);if(typeof r!=="number"||isNaN(r))throw new TypeError(i.ERRSTR.MODE_INT);return r}function nullCheck(e,t){if((""+e).indexOf("\0")!==-1){const e=new Error("Path must be a string without null bytes");e.code="ENOENT";if(typeof t!=="function")throw e;(0,o.default)((()=>{t(e)}));return false}return true}function getPathFromURLPosix(e){if(e.hostname!==""){throw new s.TypeError("ERR_INVALID_FILE_URL_HOST",process.platform)}const t=e.pathname;for(let e=0;e<t.length;e++){if(t[e]==="%"){const r=t.codePointAt(e+2)|32;if(t[e+1]==="2"&&r===102){throw new s.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}}}return decodeURIComponent(t)}function pathToFilename(e){if(e instanceof Uint8Array){e=(0,n.bufferFrom)(e)}if(typeof e!=="string"&&!n.Buffer.isBuffer(e)){try{if(!(e instanceof r(16).URL))throw new TypeError(i.ERRSTR.PATH_STR)}catch(e){throw new TypeError(i.ERRSTR.PATH_STR)}e=getPathFromURLPosix(e)}const t=String(e);nullCheck(t);return t}const a="ENOENT";const l="EBADF";const f="EINVAL";const h="EPERM";const u="EPROTO";const d="EEXIST";const p="ENOTDIR";const m="EMFILE";const y="EACCES";const g="EISDIR";const _="ENOTEMPTY";const b="ENOSYS";const w="ERR_FS_EISDIR";const S="ERR_OUT_OF_RANGE";function formatError(e,t="",r="",i=""){let s="";if(r)s=` '${r}'`;if(i)s+=` -> '${i}'`;switch(e){case a:return`ENOENT: no such file or directory, ${t}${s}`;case l:return`EBADF: bad file descriptor, ${t}${s}`;case f:return`EINVAL: invalid argument, ${t}${s}`;case h:return`EPERM: operation not permitted, ${t}${s}`;case u:return`EPROTO: protocol error, ${t}${s}`;case d:return`EEXIST: file already exists, ${t}${s}`;case p:return`ENOTDIR: not a directory, ${t}${s}`;case g:return`EISDIR: illegal operation on a directory, ${t}${s}`;case y:return`EACCES: permission denied, ${t}${s}`;case _:return`ENOTEMPTY: directory not empty, ${t}${s}`;case m:return`EMFILE: too many open files, ${t}${s}`;case b:return`ENOSYS: function not implemented, ${t}${s}`;case w:return`[ERR_FS_EISDIR]: Path is a directory: ${t} returned EISDIR (is a directory) ${r}`;case S:return`[ERR_OUT_OF_RANGE]: value out of range, ${t}${s}`;default:return`${e}: error occurred, ${t}${s}`}}function createError(e,t="",r="",i="",s=Error){const n=new s(formatError(e,t,r,i));n.code=e;if(r){n.path=r}return n}function genRndStr6(){return Math.random().toString(36).slice(2,8).padEnd(6,"0")}function flagsToNumber(e){if(typeof e==="number")return e;if(typeof e==="string"){const t=i.FLAGS[e];if(typeof t!=="undefined")return t}throw new s.TypeError("ERR_INVALID_OPT_VALUE","flags",e)}function streamToBuffer(e){const t=[];return new Promise(((r,i)=>{e.on("data",(e=>t.push(e)));e.on("end",(()=>r(n.Buffer.concat(t))));e.on("error",i)}))}const bufToUint8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.bufToUint8=bufToUint8;const getWriteArgs=(e,t,r,i,s,n)=>{(0,c.validateFd)(e);let o=0;let a;let l=null;let f;let h;const u=typeof t;const d=typeof r;const p=typeof i;const m=typeof s;if(u!=="string"){if(d==="function"){h=r}else if(p==="function"){o=r|0;h=i}else if(m==="function"){o=r|0;a=i;h=s}else{o=r|0;a=i;l=s;h=n}}else{if(d==="function"){h=r}else if(p==="function"){l=r;h=i}else if(m==="function"){l=r;f=i;h=s}}const y=(0,c.dataToBuffer)(t,f);if(u!=="string"){if(typeof a==="undefined")a=y.length}else{o=0;a=y.length}const g=validateCallback(h);return[e,u==="string",y,o,a,l,g]};t.getWriteArgs=getWriteArgs;const getWriteSyncArgs=(e,t,r,i,s)=>{(0,c.validateFd)(e);let n;let o;let a;let l;const f=typeof t!=="string";if(f){o=(r||0)|0;a=i;l=s}else{l=r;n=i}const h=(0,c.dataToBuffer)(t,n);if(f){if(typeof a==="undefined"){a=h.length}}else{o=0;a=h.length}return[e,h,o||0,a,l]};t.getWriteSyncArgs=getWriteSyncArgs;function bufferToEncoding(e,t){if(!t||t==="buffer")return e;else return e.toString(t)}function isReadableStream(e){return e!==null&&typeof e==="object"&&typeof e.pipe==="function"&&typeof e.on==="function"&&e.readable===true}},5:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FSWatcher=t.StatWatcher=t.Volume=void 0;t.pathToSteps=pathToSteps;t.dataToStr=dataToStr;t.toUnixTimestamp=toUnixTimestamp;const i=r(508);const s=r(836);const n=r(504);const o=r(107);const c=r(382);const a=r(970);const l=r(164);const f=r(387);const h=r(724);const u=r(263);const d=r(397);const p=r(897);const m=r(935);const y=r(536);const g=r(162);const _=r(274);const b=r(982);const w=r(127);const S=r(937);const v=r(547);const O=r(892);const F=r(638);const T=i.resolve;const{O_SYMLINK:k,F_OK:R,R_OK:N,W_OK:I,X_OK:P,COPYFILE_EXCL:A,COPYFILE_FICLONE_FORCE:C}=u.constants;const x=i.posix?i.posix.sep:i.sep;const D=i.posix?i.posix.relative:i.relative;const L=i.posix?i.posix.join:i.join;const j=i.posix?i.posix.dirname:i.dirname;const M=i.posix?i.posix.normalize:i.normalize;const W=128;function pathToSteps(e){return(0,F.filenameToSteps)((0,v.pathToFilename)(e))}function dataToStr(e,t=p.ENCODING_UTF8){if(a.Buffer.isBuffer(e))return e.toString(t);else if(e instanceof Uint8Array)return(0,a.bufferFrom)(e).toString(t);else return String(e)}function toUnixTimestamp(e){if(typeof e==="string"&&+e==e){return+e}if(e instanceof Date){return e.getTime()/1e3}if(isFinite(e)){if(e<0){return Date.now()/1e3}return e}throw new Error("Cannot parse time: "+e)}function validateUid(e){if(typeof e!=="number")throw TypeError(b.ERRSTR.UID)}function validateGid(e){if(typeof e!=="number")throw TypeError(b.ERRSTR.GID)}class Volume{get promises(){if(this.promisesApi===null)throw new Error("Promise is not supported in this environment.");return this.promisesApi}constructor(e=new s.Superblock){this._core=e;this.promisesApi=new g.FsPromises(this,m.FileHandle);this.openSync=(e,t,r=438)=>{const i=(0,v.modeToNumber)(r);const s=(0,v.pathToFilename)(e);const n=(0,v.flagsToNumber)(t);return this._core.open(s,n,i,!(n&k))};this.open=(e,t,r,i)=>{let s=r;let n=i;if(typeof r==="function"){s=438;n=r}s=s||438;const o=(0,v.modeToNumber)(s);const c=(0,v.pathToFilename)(e);const a=(0,v.flagsToNumber)(t);this.wrapAsync(this._core.open,[c,a,o,!(a&k)],n)};this.closeSync=e=>{this._core.close(e)};this.close=(e,t)=>{(0,F.validateFd)(e);const r=this._core.getFileByFdOrThrow(e,"close");this.wrapAsync(this._core.close,[r.fd],t)};this.readSync=(e,t,r,i,s)=>{(0,F.validateFd)(e);return this._core.read(e,t,r,i,s)};this.read=(e,t,r,i,s,n)=>{(0,v.validateCallback)(n);if(i===0){return(0,l.default)((()=>{if(n)n(null,0,t)}))}Promise.resolve().then((()=>{try{const o=this._core.read(e,t,r,i,s);n(null,o,t)}catch(e){n(e)}}))};this.readv=(e,t,r,i)=>{let s=r;let n=i;if(typeof r==="function")[s,n]=[null,r];(0,v.validateCallback)(n);Promise.resolve().then((()=>{try{const r=this._core.readv(e,t,s);n(null,r,t)}catch(e){n(e)}}))};this.readvSync=(e,t,r)=>{(0,F.validateFd)(e);return this._core.readv(e,t,r??null)};this._readfile=(e,t,r)=>{let i;const s=typeof e==="number";const n=s&&(0,F.isFd)(e);let o;if(n)o=e;else{const r=(0,v.pathToFilename)(e);const i=String(e);const s=i.length>1&&i.endsWith("/");const n=this._core.getResolvedLinkOrThrow(r,"open");const c=n.getNode();if(c.isDirectory())throw(0,v.createError)("EISDIR","open",n.getPath());if(s&&c.isFile()){throw(0,v.createError)("ENOTDIR","open",i)}o=this.openSync(e,t)}try{i=(0,v.bufferToEncoding)(this._core.getFileByFdOrThrow(o).getBuffer(),r)}finally{if(!n){this.closeSync(o)}}return i};this.readFileSync=(e,t)=>{const r=(0,S.getReadFileOptions)(t);const i=(0,v.flagsToNumber)(r.flag);return this._readfile(e,i,r.encoding)};this.readFile=(e,t,r)=>{const[i,s]=(0,S.optsAndCbGenerator)(S.getReadFileOptions)(t,r);const n=(0,v.flagsToNumber)(i.flag);this.wrapAsync(this._readfile,[e,n,i.encoding],s)};this.writeSync=(e,t,r,i,s)=>{const[,n,o,c,a]=(0,v.getWriteSyncArgs)(e,t,r,i,s);return this._write(e,n,o,c,a)};this.write=(e,t,r,i,s,n)=>{const[,o,c,a,l,f,h]=(0,v.getWriteArgs)(e,t,r,i,s,n);Promise.resolve().then((()=>{try{const r=this._write(e,c,a,l,f);if(!o){h(null,r,c)}else{h(null,r,t)}}catch(e){h(e)}}))};this.writev=(e,t,r,i)=>{let s=r;let n=i;if(typeof r==="function")[s,n]=[null,r];(0,v.validateCallback)(n);Promise.resolve().then((()=>{try{const r=this.writevBase(e,t,s);n(null,r,t)}catch(e){n(e)}}))};this.writevSync=(e,t,r)=>{(0,F.validateFd)(e);return this.writevBase(e,t,r??null)};this.writeFileSync=(e,t,r)=>{const i=(0,S.getWriteFileOptions)(r);const s=(0,v.flagsToNumber)(i.flag);const n=(0,v.modeToNumber)(i.mode);const o=(0,F.dataToBuffer)(t,i.encoding);this._core.writeFile(e,o,s,n)};this.writeFile=(e,t,r,i)=>{let s=r;let n=i;if(typeof r==="function")[s,n]=[S.writeFileDefaults,r];const o=(0,v.validateCallback)(n);const c=(0,S.getWriteFileOptions)(s);const a=(0,v.flagsToNumber)(c.flag);const l=(0,v.modeToNumber)(c.mode);const f=(0,F.dataToBuffer)(t,c.encoding);this.wrapAsync(this._core.writeFile,[e,f,a,l],o)};this.copyFileSync=(e,t,r)=>{const i=(0,v.pathToFilename)(e);const s=(0,v.pathToFilename)(t);return this._copyFile(i,s,(r||0)|0)};this.copyFile=(e,t,r,i)=>{const s=(0,v.pathToFilename)(e);const n=(0,v.pathToFilename)(t);let o;let c;if(typeof r==="function")[o,c]=[0,r];else[o,c]=[r,i];(0,v.validateCallback)(c);this.wrapAsync(this._copyFile,[s,n,o],c)};this._cp=(e,t,r)=>{if(r.filter&&!r.filter(e,t))return;const i=r.dereference?this.statSync(e):this.lstatSync(e);let s=null;try{s=this.lstatSync(t)}catch(e){if(e.code!=="ENOENT"){throw e}}if(s&&i.ino===s.ino&&i.dev===s.dev)throw(0,v.createError)("EINVAL","cp",e,t);if(s){if(i.isDirectory()&&!s.isDirectory())throw(0,v.createError)("EISDIR","cp",e,t);if(!i.isDirectory()&&s.isDirectory())throw(0,v.createError)("ENOTDIR","cp",e,t)}if(i.isDirectory()&&this.isSrcSubdir(e,t))throw(0,v.createError)("EINVAL","cp",e,t);e:{const e=j(t);if(!this.existsSync(e))this.mkdirSync(e,{recursive:true})}if(i.isDirectory()){if(!r.recursive)throw(0,v.createError)("EISDIR","cp",e);this.cpDirSync(i,s,e,t,r)}else if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice()){this.cpFileSync(i,s,e,t,r)}else if(i.isSymbolicLink()&&!r.dereference){this.cpSymlinkSync(s,e,t,r)}else{throw(0,v.createError)("EINVAL","cp",e)}};this.linkSync=(e,t)=>{const r=(0,v.pathToFilename)(e);const i=(0,v.pathToFilename)(t);this._core.link(r,i)};this.link=(e,t,r)=>{const i=(0,v.pathToFilename)(e);const s=(0,v.pathToFilename)(t);this.wrapAsync(this._core.link,[i,s],r)};this.unlinkSync=e=>{const t=(0,v.pathToFilename)(e);this._core.unlink(t)};this.unlink=(e,t)=>{const r=(0,v.pathToFilename)(e);this.wrapAsync(this._core.unlink,[r],t)};this.symlinkSync=(e,t,r)=>{const i=(0,v.pathToFilename)(e);const s=(0,v.pathToFilename)(t);this._core.symlink(i,s)};this.symlink=(e,t,r,i)=>{const s=(0,v.validateCallback)(typeof r==="function"?r:i);const n=(0,v.pathToFilename)(e);const o=(0,v.pathToFilename)(t);this.wrapAsync(this._core.symlink,[n,o],s)};this._lstat=(e,t=false,r=false)=>{let i;try{i=this._core.getLinkOrThrow(e,"lstat")}catch(e){if(e.code==="ENOENT"&&!r)return undefined;else throw e}return n.default.build(i.getNode(),t)};this.lstatSync=(e,t)=>{const{throwIfNoEntry:r=true,bigint:i=false}=(0,S.getStatOptions)(t);return this._lstat((0,v.pathToFilename)(e),i,r)};this.renameSync=(e,t)=>{const r=(0,v.pathToFilename)(e);const i=(0,v.pathToFilename)(t);this._core.rename(r,i)};this.rename=(e,t,r)=>{const i=(0,v.pathToFilename)(e);const s=(0,v.pathToFilename)(t);this.wrapAsync(this._core.rename,[i,s],r)};this.existsSync=e=>{try{return this._exists((0,v.pathToFilename)(e))}catch(e){return false}};this.exists=(e,t)=>{const r=(0,v.pathToFilename)(e);if(typeof t!=="function")throw Error(b.ERRSTR.CB);Promise.resolve().then((()=>{try{t(this._exists(r))}catch(e){t(false)}}))};this.accessSync=(e,t=R)=>{const r=(0,v.pathToFilename)(e);t=t|0;this._access(r,t)};this.access=(e,t,r)=>{let i=R;let s;if(typeof t!=="function")[i,s]=[t|0,(0,v.validateCallback)(r)];else s=t;const n=(0,v.pathToFilename)(e);this.wrapAsync(this._access,[n,i],s)};this.appendFileSync=(e,t,r)=>{const i=(0,S.getAppendFileOpts)(r);if(!i.flag||(0,F.isFd)(e))i.flag="a";this.writeFileSync(e,t,i)};this.appendFile=(e,t,r,i)=>{const[s,n]=(0,S.getAppendFileOptsAndCb)(r,i);if(!s.flag||(0,F.isFd)(e))s.flag="a";this.writeFile(e,t,s,n)};this._readdir=(e,t)=>{const r=(0,F.filenameToSteps)(e);const s=this._core.getResolvedLinkOrThrow(e,"scandir");const n=s.getNode();if(!n.isDirectory())throw(0,v.createError)("ENOTDIR","scandir",e);if(!n.canRead())throw(0,v.createError)("EACCES","scandir",e);const c=[];for(const e of s.children.keys()){const r=s.getChild(e);if(!r||e==="."||e==="..")continue;c.push(o.default.build(r,t.encoding));if(t.recursive&&r.children.size){const e={...t,recursive:true,withFileTypes:true};const i=this._readdir(r.getPath(),e);c.push(...i)}}if(!F.isWin&&t.encoding!=="buffer")c.sort(((e,t)=>{if(e.name<t.name)return-1;if(e.name>t.name)return 1;return 0}));if(t.withFileTypes)return c;let a=e;if(F.isWin)a=a.replace(/\\/g,"/");return c.map((e=>{if(t.recursive){let t=L(e.parentPath,e.name.toString());if(F.isWin){t=t.replace(/\\/g,"/")}return t.replace(a+i.posix.sep,"")}return e.name}))};this.readdirSync=(e,t)=>{const r=(0,S.getReaddirOptions)(t);const i=(0,v.pathToFilename)(e);return this._readdir(i,r)};this.readdir=(e,t,r)=>{const[i,s]=(0,S.getReaddirOptsAndCb)(t,r);const n=(0,v.pathToFilename)(e);this.wrapAsync(this._readdir,[n,i],s)};this._readlink=(e,t)=>{const r=this._core.getLinkOrThrow(e,"readlink");const i=r.getNode();if(!i.isSymlink())throw(0,v.createError)("EINVAL","readlink",e);return(0,p.strToEncoding)(i.symlink,t)};this.readlinkSync=(e,t)=>{const r=(0,S.getDefaultOpts)(t);const i=(0,v.pathToFilename)(e);return this._readlink(i,r.encoding)};this.readlink=(e,t,r)=>{const[i,s]=(0,S.getDefaultOptsAndCb)(t,r);const n=(0,v.pathToFilename)(e);this.wrapAsync(this._readlink,[n,i.encoding],s)};this._fsync=e=>{this._core.getFileByFdOrThrow(e,"fsync")};this.fsyncSync=e=>{this._fsync(e)};this.fsync=(e,t)=>{this.wrapAsync(this._fsync,[e],t)};this._fdatasync=e=>{this._core.getFileByFdOrThrow(e,"fdatasync")};this.fdatasyncSync=e=>{this._fdatasync(e)};this.fdatasync=(e,t)=>{this.wrapAsync(this._fdatasync,[e],t)};this._ftruncate=(e,t)=>{const r=this._core.getFileByFdOrThrow(e,"ftruncate");r.truncate(t)};this.ftruncateSync=(e,t)=>{this._ftruncate(e,t)};this.ftruncate=(e,t,r)=>{const i=typeof t==="number"?t:0;const s=(0,v.validateCallback)(typeof t==="number"?r:t);this.wrapAsync(this._ftruncate,[e,i],s)};this._truncate=(e,t)=>{const r=this.openSync(e,"r+");try{this.ftruncateSync(r,t)}finally{this.closeSync(r)}};this.truncateSync=(e,t)=>{if((0,F.isFd)(e))return this.ftruncateSync(e,t);this._truncate(e,t)};this.truncate=(e,t,r)=>{const i=typeof t==="number"?t:0;const s=(0,v.validateCallback)(typeof t==="number"?r:t);if((0,F.isFd)(e))return this.ftruncate(e,i,s);this.wrapAsync(this._truncate,[e,i],s)};this._futimes=(e,t,r)=>{const i=this._core.getFileByFdOrThrow(e,"futimes");const s=i.node;s.atime=new Date(t*1e3);s.mtime=new Date(r*1e3)};this.futimesSync=(e,t,r)=>{this._futimes(e,toUnixTimestamp(t),toUnixTimestamp(r))};this.futimes=(e,t,r,i)=>{this.wrapAsync(this._futimes,[e,toUnixTimestamp(t),toUnixTimestamp(r)],i)};this._utimes=(e,t,r,i=true)=>{const s=this._core;const n=i?s.getResolvedLinkOrThrow(e,"utimes"):s.getLinkOrThrow(e,"lutimes");const o=n.getNode();o.atime=new Date(t*1e3);o.mtime=new Date(r*1e3)};this.utimesSync=(e,t,r)=>{this._utimes((0,v.pathToFilename)(e),toUnixTimestamp(t),toUnixTimestamp(r),true)};this.utimes=(e,t,r,i)=>{this.wrapAsync(this._utimes,[(0,v.pathToFilename)(e),toUnixTimestamp(t),toUnixTimestamp(r),true],i)};this.lutimesSync=(e,t,r)=>{this._utimes((0,v.pathToFilename)(e),toUnixTimestamp(t),toUnixTimestamp(r),false)};this.lutimes=(e,t,r,i)=>{this.wrapAsync(this._utimes,[(0,v.pathToFilename)(e),toUnixTimestamp(t),toUnixTimestamp(r),false],i)};this.mkdirSync=(e,t)=>{const r=(0,S.getMkdirOptions)(t);const i=(0,v.modeToNumber)(r.mode,511);const s=(0,v.pathToFilename)(e);if(r.recursive)return this._core.mkdirp(s,i);this._core.mkdir(s,i)};this.mkdir=(e,t,r)=>{const i=(0,S.getMkdirOptions)(t);const s=(0,v.validateCallback)(typeof t==="function"?t:r);const n=(0,v.modeToNumber)(i.mode,511);const o=(0,v.pathToFilename)(e);if(i.recursive)this.wrapAsync(this._core.mkdirp,[o,n],s);else this.wrapAsync(this._core.mkdir,[o,n],s)};this._mkdtemp=(e,t,r=5)=>{const i=e+(0,v.genRndStr6)();try{this._core.mkdir(i,511);return(0,p.strToEncoding)(i,t)}catch(i){if(i.code==="EEXIST"){if(r>1)return this._mkdtemp(e,t,r-1);else throw Error("Could not create temp dir.")}else throw i}};this.mkdtempSync=(e,t)=>{const{encoding:r}=(0,S.getDefaultOpts)(t);if(!e||typeof e!=="string")throw new TypeError("filename prefix is required");(0,v.nullCheck)(e);return this._mkdtemp(e,r)};this.mkdtemp=(e,t,r)=>{const[{encoding:i},s]=(0,S.getDefaultOptsAndCb)(t,r);if(!e||typeof e!=="string")throw new TypeError("filename prefix is required");if(!(0,v.nullCheck)(e))return;this.wrapAsync(this._mkdtemp,[e,i],s)};this.rmdirSync=(e,t)=>{const r=(0,S.getRmdirOptions)(t);this._core.rmdir((0,v.pathToFilename)(e),r.recursive)};this.rmdir=(e,t,r)=>{const i=(0,S.getRmdirOptions)(t);const s=(0,v.validateCallback)(typeof t==="function"?t:r);this.wrapAsync(this._core.rmdir,[(0,v.pathToFilename)(e),i.recursive],s)};this.rmSync=(e,t)=>{this._core.rm((0,v.pathToFilename)(e),t?.force,t?.recursive)};this.rm=(e,t,r)=>{const[i,s]=(0,S.getRmOptsAndCb)(t,r);this.wrapAsync(this._core.rm,[(0,v.pathToFilename)(e),i?.force,i?.recursive],s)};this._fchmod=(e,t)=>{const r=this._core.getFileByFdOrThrow(e,"fchmod");r.chmod(t)};this.fchmodSync=(e,t)=>{this._fchmod(e,(0,v.modeToNumber)(t))};this.fchmod=(e,t,r)=>{this.wrapAsync(this._fchmod,[e,(0,v.modeToNumber)(t)],r)};this._chmod=(e,t,r=true)=>{const i=r?this._core.getResolvedLinkOrThrow(e,"chmod"):this._core.getLinkOrThrow(e,"chmod");const s=i.getNode();s.chmod(t)};this.chmodSync=(e,t)=>{const r=(0,v.modeToNumber)(t);const i=(0,v.pathToFilename)(e);this._chmod(i,r,true)};this.chmod=(e,t,r)=>{const i=(0,v.modeToNumber)(t);const s=(0,v.pathToFilename)(e);this.wrapAsync(this._chmod,[s,i],r)};this._lchmod=(e,t)=>{this._chmod(e,t,false)};this.lchmodSync=(e,t)=>{const r=(0,v.modeToNumber)(t);const i=(0,v.pathToFilename)(e);this._lchmod(i,r)};this.lchmod=(e,t,r)=>{const i=(0,v.modeToNumber)(t);const s=(0,v.pathToFilename)(e);this.wrapAsync(this._lchmod,[s,i],r)};this._fchown=(e,t,r)=>{this._core.getFileByFdOrThrow(e,"fchown").chown(t,r)};this.fchownSync=(e,t,r)=>{validateUid(t);validateGid(r);this._fchown(e,t,r)};this.fchown=(e,t,r,i)=>{validateUid(t);validateGid(r);this.wrapAsync(this._fchown,[e,t,r],i)};this._chown=(e,t,r)=>{const i=this._core.getResolvedLinkOrThrow(e,"chown");const s=i.getNode();s.chown(t,r)};this.chownSync=(e,t,r)=>{validateUid(t);validateGid(r);this._chown((0,v.pathToFilename)(e),t,r)};this.chown=(e,t,r,i)=>{validateUid(t);validateGid(r);this.wrapAsync(this._chown,[(0,v.pathToFilename)(e),t,r],i)};this._lchown=(e,t,r)=>{this._core.getLinkOrThrow(e,"lchown").getNode().chown(t,r)};this.lchownSync=(e,t,r)=>{validateUid(t);validateGid(r);this._lchown((0,v.pathToFilename)(e),t,r)};this.lchown=(e,t,r,i)=>{validateUid(t);validateGid(r);this.wrapAsync(this._lchown,[(0,v.pathToFilename)(e),t,r],i)};this.statWatchers={};this.cpSync=(e,t,r)=>{const i=(0,v.pathToFilename)(e);const s=(0,v.pathToFilename)(t);const n={dereference:r?.dereference??false,errorOnExist:r?.errorOnExist??false,filter:r?.filter,force:r?.force??true,mode:r?.mode??0,preserveTimestamps:r?.preserveTimestamps??false,recursive:r?.recursive??false,verbatimSymlinks:r?.verbatimSymlinks??false};return this._cp(i,s,n)};this.cp=(e,t,r,i)=>{const s=(0,v.pathToFilename)(e);const n=(0,v.pathToFilename)(t);let o;let c;if(typeof r==="function")[o,c]=[{},r];else[o,c]=[r||{},i];(0,v.validateCallback)(c);const a={dereference:o?.dereference??false,errorOnExist:o?.errorOnExist??false,filter:o?.filter,force:o?.force??true,mode:o?.mode??0,preserveTimestamps:o?.preserveTimestamps??false,recursive:o?.recursive??false,verbatimSymlinks:o?.verbatimSymlinks??false};this.wrapAsync(this._cp,[s,n,a],c)};this.openAsBlob=async(e,t)=>{const r=(0,v.pathToFilename)(e);let i;try{i=this._core.getResolvedLinkOrThrow(r,"open")}catch(e){if(e&&typeof e==="object"&&e.code==="ENOENT"){const e=new w.TypeError("ERR_INVALID_ARG_VALUE");throw e}throw e}const s=i.getNode();const n=s.getBuffer();const o=t?.type||"";return new Blob([n],{type:o})};this.glob=(e,...t)=>{const[r,i]=t.length===1?[{},t[0]]:[t[0],t[1]];this.wrapAsync(this._globSync,[e,r||{}],i)};this.globSync=(e,t={})=>this._globSync(e,t);this._globSync=(e,t={})=>{const{globSync:i}=r(325);return i(this,e,t)};this._opendir=(e,t)=>{const r=this._core.getResolvedLinkOrThrow(e,"scandir");const i=r.getNode();if(!i.isDirectory())throw(0,v.createError)("ENOTDIR","scandir",e);return new O.Dir(r,t)};this.opendirSync=(e,t)=>{const r=(0,S.getOpendirOptions)(t);const i=(0,v.pathToFilename)(e);return this._opendir(i,r)};this.opendir=(e,t,r)=>{const[i,s]=(0,S.getOpendirOptsAndCb)(t,r);const n=(0,v.pathToFilename)(e);this.wrapAsync(this._opendir,[n,i],s)};const t=this;this.StatWatcher=class extends StatWatcher{constructor(){super(t)}};const c=FsReadStream;this.ReadStream=class extends c{constructor(...e){super(t,...e)}};const a=FsWriteStream;this.WriteStream=class extends a{constructor(...e){super(t,...e)}};this.FSWatcher=class extends FSWatcher{constructor(){super(t)}};const _realpath=(e,t)=>{const r=this._core.getResolvedLinkOrThrow(e,"realpath");return(0,p.strToEncoding)(r.getPath()||"/",t)};const realpathImpl=(e,r,i)=>{const[s,n]=(0,S.getRealpathOptsAndCb)(r,i);const o=(0,v.pathToFilename)(e);t.wrapAsync(_realpath,[o,s.encoding],n)};const realpathSyncImpl=(e,t)=>_realpath((0,v.pathToFilename)(e),(0,S.getRealpathOptions)(t).encoding);this.realpath=realpathImpl;this.realpath.native=realpathImpl;this.realpathSync=realpathSyncImpl;this.realpathSync.native=realpathSyncImpl}wrapAsync(e,t,r){(0,v.validateCallback)(r);Promise.resolve().then((()=>{let i;try{i=e.apply(this,t)}catch(e){r(e);return}r(null,i)}))}toTree(e={separator:i.sep}){return(0,_.toTreeSync)(this,e)}reset(){this._core.reset()}toJSON(e,t={},r=false,i=false){return this._core.toJSON(e,t,r,i)}fromJSON(e,t){return this._core.fromJSON(e,t)}fromNestedJSON(e,t){return this._core.fromNestedJSON(e,t)}mountSync(e,t){this._core.fromJSON(t,e)}_write(e,t,r,i,s){const n=this._core.getFileByFdOrThrow(e,"write");if(n.node.isSymlink()){throw(0,v.createError)("EBADF","write",n.link.getPath())}return n.write(t,r,i,s===-1||typeof s!=="number"?undefined:s)}writevBase(e,t,r){const i=this._core.getFileByFdOrThrow(e);let s=r??undefined;if(s===-1){s=undefined}let n=0;for(const e of t){const t=a.Buffer.from(e.buffer,e.byteOffset,e.byteLength);const r=i.write(t,0,t.byteLength,s);s=undefined;n+=r;if(r<t.byteLength)break}return n}_copyFile(e,t,r){const i=this.readFileSync(e);if(r&A&&this.existsSync(t))throw(0,v.createError)("EEXIST","copyFile",e,t);if(r&C)throw(0,v.createError)("ENOSYS","copyFile",e,t);this._core.writeFile(t,i,b.FLAGS.w,438)}isSrcSubdir(e,t){try{const r=M(e.startsWith("/")?e:"/"+e);const s=M(t.startsWith("/")?t:"/"+t);if(r===s)return true;const n=D(r,s);return n===""||!n.startsWith("..")&&!(0,i.isAbsolute)(n)}catch(e){return false}}cpFileSync(e,t,r,i,s){if(t){if(s.errorOnExist)throw(0,v.createError)("EEXIST","cp",i);if(!s.force)return;this.unlinkSync(i)}this.copyFileSync(r,i,s.mode);if(s.preserveTimestamps)this.utimesSync(i,e.atime,e.mtime);this.chmodSync(i,Number(e.mode))}cpDirSync(e,t,r,i,s){if(!t){this.mkdirSync(i)}const n=this.readdirSync(r);for(const e of n){const t=L(r,String(e));const n=L(i,String(e));if(s.filter&&!s.filter(t,n)){continue}this._cp(t,n,s)}this.chmodSync(i,Number(e.mode))}cpSymlinkSync(e,t,r,s){let n=String(this.readlinkSync(t));if(!s.verbatimSymlinks&&!(0,i.isAbsolute)(n))n=T(j(t),n);if(e)this.unlinkSync(r);this.symlinkSync(n,r)}lstat(e,t,r){const[{throwIfNoEntry:i=true,bigint:s=false},n]=(0,S.getStatOptsAndCb)(t,r);this.wrapAsync(this._lstat,[(0,v.pathToFilename)(e),s,i],n)}_stat(e,t=false,r=true){let i;try{i=this._core.getResolvedLinkOrThrow(e,"stat")}catch(e){if(e.code==="ENOENT"&&!r)return undefined;else throw e}return n.default.build(i.getNode(),t)}statSync(e,t){const{bigint:r=true,throwIfNoEntry:i=true}=(0,S.getStatOptions)(t);return this._stat((0,v.pathToFilename)(e),r,i)}stat(e,t,r){const[{bigint:i=false,throwIfNoEntry:s=true},n]=(0,S.getStatOptsAndCb)(t,r);this.wrapAsync(this._stat,[(0,v.pathToFilename)(e),i,s],n)}fstatBase(e,t=false){const r=this._core.getFileByFd(e);if(!r)throw(0,v.createError)("EBADF","fstat");return n.default.build(r.node,t)}fstatSync(e,t){return this.fstatBase(e,(0,S.getStatOptions)(t).bigint)}fstat(e,t,r){const[i,s]=(0,S.getStatOptsAndCb)(t,r);this.wrapAsync(this.fstatBase,[e,i.bigint],s)}_exists(e){return!!this._stat(e)}_access(e,t){const r=this._core.getLinkOrThrow(e,"access");const i=r.getNode();if(t===R){return}if(t&N&&!i.canRead()){throw(0,v.createError)("EACCES","access",e)}if(t&I&&!i.canWrite()){throw(0,v.createError)("EACCES","access",e)}if(t&P&&!i.canExecute()){throw(0,v.createError)("EACCES","access",e)}}watchFile(e,t,r){const i=(0,v.pathToFilename)(e);let s=t;let n=r;if(typeof s==="function"){n=t;s=null}if(typeof n!=="function"){throw Error('"watchFile()" requires a listener function')}let o=5007;let c=true;if(s&&typeof s==="object"){if(typeof s.interval==="number")o=s.interval;if(typeof s.persistent==="boolean")c=s.persistent}let a=this.statWatchers[i];if(!a){a=new this.StatWatcher;a.start(i,c,o);this.statWatchers[i]=a}a.addListener("change",n);return a}unwatchFile(e,t){const r=(0,v.pathToFilename)(e);const i=this.statWatchers[r];if(!i)return;if(typeof t==="function"){i.removeListener("change",t)}else{i.removeAllListeners("change")}if(i.listenerCount("change")===0){i.stop();delete this.statWatchers[r]}}createReadStream(e,t){return new this.ReadStream(e,t)}createWriteStream(e,t){return new this.WriteStream(e,t)}watch(e,t,r){const i=(0,v.pathToFilename)(e);let s=t;if(typeof t==="function"){r=t;s=null}let{persistent:n,recursive:o,encoding:c}=(0,S.getDefaultOpts)(s);if(n===undefined)n=true;if(o===undefined)o=false;const a=new this.FSWatcher;a.start(i,n,o,c);if(r){a.addListener("change",r)}return a}_statfs(e,t=false){this._core.getResolvedLinkOrThrow(e,"statfs");return c.default.build(this._core,t)}statfsSync(e,t){const{bigint:r=false}=(0,S.getStatfsOptions)(t);return this._statfs((0,v.pathToFilename)(e),r)}statfs(e,t,r){const[{bigint:i=false},s]=(0,S.getStatfsOptsAndCb)(t,r);this.wrapAsync(this._statfs,[(0,v.pathToFilename)(e),i],s)}}t.Volume=Volume;Volume.fromJSON=(e,t)=>new Volume(s.Superblock.fromJSON(e,t));Volume.fromNestedJSON=(e,t)=>new Volume(s.Superblock.fromNestedJSON(e,t));function emitStop(e){e.emit("stop")}class StatWatcher extends d.EventEmitter{constructor(e){super();this.onInterval=()=>{try{const e=this.vol.statSync(this.filename);if(this.hasChanged(e)){this.emit("change",e,this.prev);this.prev=e}}finally{this.loop()}};this.vol=e}loop(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)}hasChanged(e){if(e.mtimeMs>this.prev.mtimeMs)return true;if(e.nlink!==this.prev.nlink)return true;return false}start(e,t=true,r=5007){this.filename=(0,v.pathToFilename)(e);this.setTimeout=t?setTimeout.bind(typeof globalThis!=="undefined"?globalThis:global):f.default;this.interval=r;this.prev=this.vol.statSync(this.filename);this.loop()}stop(){clearTimeout(this.timeoutRef);(0,l.default)((()=>{emitStop.call(this,this)}))}}t.StatWatcher=StatWatcher;var B;function allocNewPool(e){B=(0,a.bufferAllocUnsafe)(e);B.used=0}(0,y.inherits)(FsReadStream,h.Readable);t.ReadStream=FsReadStream;function FsReadStream(e,t,r){if(!(this instanceof FsReadStream))return new FsReadStream(e,t,r);this._vol=e;r=Object.assign({},(0,S.getOptions)(r,{}));if(r.highWaterMark===undefined)r.highWaterMark=64*1024;h.Readable.call(this,r);this.path=(0,v.pathToFilename)(t);this.fd=r.fd===undefined?null:typeof r.fd!=="number"?r.fd.fd:r.fd;this.flags=r.flags===undefined?"r":r.flags;this.mode=r.mode===undefined?438:r.mode;this.start=r.start;this.end=r.end;this.autoClose=r.autoClose===undefined?true:r.autoClose;this.pos=undefined;this.bytesRead=0;if(this.start!==undefined){if(typeof this.start!=="number"){throw new TypeError('"start" option must be a Number')}if(this.end===undefined){this.end=Infinity}else if(typeof this.end!=="number"){throw new TypeError('"end" option must be a Number')}if(this.start>this.end){throw new Error('"start" option must be <= "end" option')}this.pos=this.start}if(typeof this.fd!=="number")this.open();this.on("end",(function(){if(this.autoClose){if(this.destroy)this.destroy()}}))}FsReadStream.prototype.open=function(){var e=this;this._vol.open(this.path,this.flags,this.mode,((t,r)=>{if(t){if(e.autoClose){if(e.destroy)e.destroy()}e.emit("error",t);return}e.fd=r;e.emit("open",r);e.read()}))};FsReadStream.prototype._read=function(e){if(typeof this.fd!=="number"){return this.once("open",(function(){this._read(e)}))}if(this.destroyed)return;if(!B||B.length-B.used<W){allocNewPool(this._readableState.highWaterMark)}var t=B;var r=Math.min(B.length-B.used,e);var i=B.used;if(this.pos!==undefined)r=Math.min(this.end-this.pos+1,r);if(r<=0)return this.push(null);var s=this;this._vol.read(this.fd,B,B.used,r,this.pos,onread);if(this.pos!==undefined)this.pos+=r;B.used+=r;function onread(e,r){if(e){if(s.autoClose&&s.destroy){s.destroy()}s.emit("error",e)}else{var n=null;if(r>0){s.bytesRead+=r;n=t.slice(i,i+r)}s.push(n)}}};FsReadStream.prototype._destroy=function(e,t){this.close((r=>{t(e||r)}))};FsReadStream.prototype.close=function(e){if(e)this.once("close",e);if(this.closed||typeof this.fd!=="number"){if(typeof this.fd!=="number"){this.once("open",closeOnOpen);return}return(0,l.default)((()=>this.emit("close")))}if(typeof this._readableState?.closed==="boolean"){this._readableState.closed=true}else{this.closed=true}this._vol.close(this.fd,(e=>{if(e)this.emit("error",e);else this.emit("close")}));this.fd=null};function closeOnOpen(e){this.close()}(0,y.inherits)(FsWriteStream,h.Writable);t.WriteStream=FsWriteStream;function FsWriteStream(e,t,r){if(!(this instanceof FsWriteStream))return new FsWriteStream(e,t,r);this._vol=e;r=Object.assign({},(0,S.getOptions)(r,{}));h.Writable.call(this,r);this.path=(0,v.pathToFilename)(t);this.fd=r.fd===undefined?null:typeof r.fd!=="number"?r.fd.fd:r.fd;this.flags=r.flags===undefined?"w":r.flags;this.mode=r.mode===undefined?438:r.mode;this.start=r.start;this.autoClose=r.autoClose===undefined?true:!!r.autoClose;this.pos=undefined;this.bytesWritten=0;this.pending=true;if(this.start!==undefined){if(typeof this.start!=="number"){throw new TypeError('"start" option must be a Number')}if(this.start<0){throw new Error('"start" must be >= zero')}this.pos=this.start}if(r.encoding)this.setDefaultEncoding(r.encoding);if(typeof this.fd!=="number")this.open();this.once("finish",(function(){if(this.autoClose){this.close()}}))}FsWriteStream.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(e,t){if(e){if(this.autoClose&&this.destroy){this.destroy()}this.emit("error",e);return}this.fd=t;this.pending=false;this.emit("open",t)}.bind(this))};FsWriteStream.prototype._write=function(e,t,r){if(!(e instanceof a.Buffer||e instanceof Uint8Array))return this.emit("error",new Error("Invalid data"));if(typeof this.fd!=="number"){return this.once("open",(function(){this._write(e,t,r)}))}var i=this;this._vol.write(this.fd,e,0,e.length,this.pos,((e,t)=>{if(e){if(i.autoClose&&i.destroy){i.destroy()}return r(e)}i.bytesWritten+=t;r()}));if(this.pos!==undefined)this.pos+=e.length};FsWriteStream.prototype._writev=function(e,t){if(typeof this.fd!=="number"){return this.once("open",(function(){this._writev(e,t)}))}const r=this;const i=e.length;const s=new Array(i);var n=0;for(var o=0;o<i;o++){var c=e[o].chunk;s[o]=c;n+=c.length}const l=a.Buffer.concat(s);this._vol.write(this.fd,l,0,l.length,this.pos,((e,i)=>{if(e){if(r.destroy)r.destroy();return t(e)}r.bytesWritten+=i;t()}));if(this.pos!==undefined)this.pos+=n};FsWriteStream.prototype.close=function(e){if(e)this.once("close",e);if(this.closed||typeof this.fd!=="number"){if(typeof this.fd!=="number"){this.once("open",closeOnOpen);return}return(0,l.default)((()=>this.emit("close")))}if(typeof this._writableState?.closed==="boolean"){this._writableState.closed=true}else{this.closed=true}this._vol.close(this.fd,(e=>{if(e)this.emit("error",e);else this.emit("close")}));this.fd=null};FsWriteStream.prototype._destroy=FsReadStream.prototype._destroy;FsWriteStream.prototype.destroySoon=FsWriteStream.prototype.end;class FSWatcher extends d.EventEmitter{constructor(e){super();this._filename="";this._filenameEncoded="";this._recursive=false;this._encoding=p.ENCODING_UTF8;this._listenerRemovers=new Map;this._onParentChild=e=>{if(e.getName()===this._getName()){this._emit("rename")}};this._emit=e=>{this.emit("change",e,this._filenameEncoded)};this._persist=()=>{this._timer=setTimeout(this._persist,1e6)};this._vol=e}_getName(){return this._steps[this._steps.length-1]}start(e,t=true,r=false,i=p.ENCODING_UTF8){this._filename=(0,v.pathToFilename)(e);this._steps=(0,F.filenameToSteps)(this._filename);this._filenameEncoded=(0,p.strToEncoding)(this._filename);this._recursive=r;this._encoding=i;try{this._link=this._vol._core.getLinkOrThrow(this._filename,"FSWatcher")}catch(e){const t=new Error(`watch ${this._filename} ${e.code}`);t.code=e.code;t.errno=e.code;throw t}const watchLinkNodeChanged=e=>{const t=e.getPath();const r=e.getNode();const onNodeChange=()=>{let e=D(this._filename,t);if(!e)e=this._getName();return this.emit("change","change",e)};const i=r.changes.listen((([e])=>{if(e==="modify")onNodeChange()}));const s=this._listenerRemovers.get(r.ino)??[];s.push((()=>i()));this._listenerRemovers.set(r.ino,s)};const watchLinkChildrenChanged=e=>{const t=e.getNode();const onLinkChildAdd=e=>{this.emit("change","rename",D(this._filename,e.getPath()));watchLinkNodeChanged(e);watchLinkChildrenChanged(e)};const onLinkChildDelete=e=>{const removeLinkNodeListeners=e=>{const t=e.getNode().ino;const r=this._listenerRemovers.get(t);if(r){r.forEach((e=>e()));this._listenerRemovers.delete(t)}for(const[t,r]of e.children.entries()){if(r&&t!=="."&&t!==".."){removeLinkNodeListeners(r)}}};removeLinkNodeListeners(e);this.emit("change","rename",D(this._filename,e.getPath()))};for(const[t,r]of e.children.entries()){if(r&&t!=="."&&t!==".."){watchLinkNodeChanged(r)}}const i=e.changes.listen((([e,t])=>{if(e==="child:add")onLinkChildAdd(t);else if(e==="child:del")onLinkChildDelete(t)}));const s=this._listenerRemovers.get(t.ino)??[];s.push((()=>{i()}));if(r){for(const[t,r]of e.children.entries()){if(r&&t!=="."&&t!==".."){watchLinkChildrenChanged(r)}}}};watchLinkNodeChanged(this._link);watchLinkChildrenChanged(this._link);const s=this._link.parent;if(s){s.changes.listen((([e,t])=>{if(e==="child:del")this._onParentChild(t)}))}if(t)this._persist()}close(){clearTimeout(this._timer);this._listenerRemovers.forEach((e=>{e.forEach((e=>e()))}));this._listenerRemovers.clear();this._parentChangesUnsub?.()}}t.FSWatcher=FSWatcher},274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toTreeSync=void 0;const i=r(587);const s=r(174);const toTreeSync=(e,r={})=>{const n=r.separator||"/";let o=r.dir||n;if(o[o.length-1]!==n)o+=n;const c=r.tab||"";const a=r.depth??10;const l=r.sort??true;let f=" (...)";if(a>0){const r=e.readdirSync(o,{withFileTypes:true});if(l){r.sort(((e,t)=>{if(e.isDirectory()&&t.isDirectory()){return e.name.toString().localeCompare(t.name.toString())}else if(e.isDirectory()){return-1}else if(t.isDirectory()){return 1}else{return e.name.toString().localeCompare(t.name.toString())}}))}f=(0,i.printTree)(c,r.map((r=>i=>{if(r.isDirectory()){return(0,t.toTreeSync)(e,{dir:o+r.name,depth:a-1,tab:i})}else if(r.isSymbolicLink()){return""+r.name+"  "+e.readlinkSync(o+r.name)}else{return""+r.name}})))}const h=(0,s.basename)(o,n)+n;return h+f};t.toTreeSync=toTreeSync},531:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createProcess=createProcess;const maybeReturnProcess=()=>{if(typeof process!=="undefined"){return process}try{return r(932)}catch{return undefined}};function createProcess(){const e=maybeReturnProcess()||{};if(!e.cwd)e.cwd=()=>"/";if(!e.emitWarning)e.emitWarning=(e,t)=>{console.warn(`${t}${t?": ":""}${e}`)};if(!e.env)e.env={};return e}t["default"]=createProcess()},164:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=typeof queueMicrotask==="function"?queueMicrotask:e=>Promise.resolve().then((()=>e())).catch((()=>{}))},387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function setTimeoutUnref(e,t,r){const i=setTimeout.apply(typeof globalThis!=="undefined"?globalThis:global,arguments);if(i&&typeof i==="object"&&typeof i.unref==="function")i.unref();return i}t["default"]=setTimeoutUnref},894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Buffer=void 0;var i=r(573);Object.defineProperty(t,"Buffer",{enumerable:true,get:function(){return i.Buffer}})},397:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EventEmitter=void 0;var i=r(474);Object.defineProperty(t,"EventEmitter",{enumerable:true,get:function(){return i.EventEmitter}})},970:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.bufferFrom=t.bufferAllocUnsafe=t.Buffer=void 0;const i=r(894);Object.defineProperty(t,"Buffer",{enumerable:true,get:function(){return i.Buffer}});function bufferV0P12Ponyfill(e,...t){return new i.Buffer(e,...t)}const s=i.Buffer.allocUnsafe||bufferV0P12Ponyfill;t.bufferAllocUnsafe=s;const n=i.Buffer.from||bufferV0P12Ponyfill;t.bufferFrom=n},127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AssertionError=t.RangeError=t.TypeError=t.Error=void 0;t.message=message;t.E=E;const i=r(536);const s=typeof Symbol==="undefined"?"_kCode":Symbol("code");const n={};function makeNodeError(e){return class NodeError extends e{constructor(e,...t){super(message(e,t));this.code=e;this[s]=e;this.name=`${super.name} [${this[s]}]`}}}const o=typeof globalThis!=="undefined"?globalThis:global;class AssertionError extends o.Error{constructor(e){if(typeof e!=="object"||e===null){throw new t.TypeError("ERR_INVALID_ARG_TYPE","options","object")}if(e.message){super(e.message)}else{super(`${(0,i.inspect)(e.actual).slice(0,128)} `+`${e.operator} ${(0,i.inspect)(e.expected).slice(0,128)}`)}this.generatedMessage=!e.message;this.name="AssertionError [ERR_ASSERTION]";this.code="ERR_ASSERTION";this.actual=e.actual;this.expected=e.expected;this.operator=e.operator;t.Error.captureStackTrace(this,e.stackStartFunction)}}t.AssertionError=AssertionError;function message(e,r){if(typeof e!=="string")throw new t.Error("Error message key must be a string");const s=n[e];if(!s)throw new t.Error(`An invalid error message key was used: ${e}.`);let o;if(typeof s==="function"){o=s}else{o=i.format;if(r===undefined||r.length===0)return s;r.unshift(s)}return String(o.apply(null,r))}function E(e,t){n[e]=typeof t==="function"?t:String(t)}t.Error=makeNodeError(o.Error);t.TypeError=makeNodeError(o.TypeError);t.RangeError=makeNodeError(o.RangeError);E("ERR_DIR_CLOSED","Directory handle was closed");E("ERR_DIR_CONCURRENT_OPERATION","Cannot do synchronous work on directory handle with concurrent asynchronous operations");E("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s');E("ERR_INVALID_FILE_URL_PATH","File URL path %s");E("ERR_INVALID_OPT_VALUE",((e,t)=>`The value "${String(t)}" is invalid for option "${e}"`));E("ERR_INVALID_OPT_VALUE_ENCODING",(e=>`The value "${String(e)}" is invalid for option "encoding"`));E("ERR_INVALID_ARG_VALUE","Unable to open file as blob")},508:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.basename=t.isAbsolute=t.normalize=t.dirname=t.relative=t.join=t.posix=t.sep=t.resolve=void 0;var i=r(760);Object.defineProperty(t,"resolve",{enumerable:true,get:function(){return i.resolve}});Object.defineProperty(t,"sep",{enumerable:true,get:function(){return i.sep}});Object.defineProperty(t,"posix",{enumerable:true,get:function(){return i.posix}});Object.defineProperty(t,"join",{enumerable:true,get:function(){return i.join}});Object.defineProperty(t,"relative",{enumerable:true,get:function(){return i.relative}});Object.defineProperty(t,"dirname",{enumerable:true,get:function(){return i.dirname}});Object.defineProperty(t,"normalize",{enumerable:true,get:function(){return i.normalize}});Object.defineProperty(t,"isAbsolute",{enumerable:true,get:function(){return i.isAbsolute}});Object.defineProperty(t,"basename",{enumerable:true,get:function(){return i.basename}})},724:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Writable=t.Readable=void 0;var i=r(75);Object.defineProperty(t,"Readable",{enumerable:true,get:function(){return i.Readable}});Object.defineProperty(t,"Writable",{enumerable:true,get:function(){return i.Writable}})},536:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.inherits=inherits;t.promisify=promisify;t.inspect=inspect;t.format=format;function inherits(e,t){if(e===undefined||e===null){throw new TypeError("The constructor to inherit from is not defined")}if(t===undefined||t===null){throw new TypeError("The super constructor to inherit from is not defined")}e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}function promisify(e){if(typeof e!=="function"){throw new TypeError('The "original" argument must be of type function')}return function(...t){return new Promise(((r,i)=>{e.call(this,...t,((e,t)=>{if(e){i(e)}else{r(t)}}))}))}}function inspect(e){if(e===null)return"null";if(e===undefined)return"undefined";if(typeof e==="string")return`'${e}'`;if(typeof e==="number"||typeof e==="boolean")return String(e);if(Array.isArray(e)){const t=e.map((e=>inspect(e))).join(", ");return`[ ${t} ]`}if(typeof e==="object"){const t=Object.entries(e).map((([e,t])=>`${e}: ${inspect(t)}`)).join(", ");return`{ ${t} }`}return String(e)}function format(e,...t){if(t.length===0)return e;let r=e;let i=0;r=r.replace(/%[sdj%]/g,(e=>{if(i>=t.length)return e;const r=t[i++];switch(e){case"%s":return String(r);case"%d":return Number(r).toString();case"%j":try{return JSON.stringify(r)}catch{return"[Circular]"}case"%%":return"%";default:return e}}));while(i<t.length){r+=" "+String(t[i++])}return r}},697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FanOut=void 0;class FanOut{constructor(){this.listeners=new Set}emit(e){this.listeners.forEach((t=>t(e)))}listen(e){const t=this.listeners;t.add(e);return()=>t.delete(e)}}t.FanOut=FanOut},587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=r(824);i.__exportStar(r(216),t);i.__exportStar(r(549),t);i.__exportStar(r(46),t)},549:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.printBinary=void 0;const printBinary=(e="",t)=>{const r=t[0],i=t[1];let s="";if(r)s+="\n"+e+" "+r(e+"  ");if(i)s+="\n"+e+" "+i(e+"  ");return s};t.printBinary=printBinary},46:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.printJson=void 0;const printJson=(e="",t,r=2)=>(JSON.stringify(t,null,r)||"nil").split("\n").join("\n"+e);t.printJson=printJson},216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.printTree=void 0;const printTree=(e="",t)=>{let r="";let i=t.length-1;for(;i>=0;i--)if(t[i])break;for(let s=0;s<=i;s++){const n=t[s];if(!n)continue;const o=s===i;const c=n(e+(o?" ":"")+"  ");const a=c?o?"":"":"";r+="\n"+e+a+(c?" "+c:"")}return r};t.printTree=printTree},824:e=>{var t;var r;var i;var s;var n;var o;var c;var a;var l;var f;var h;var u;var d;var p;var m;var y;var g;var _;var b;var w;var S;var v;var O;var F;var T;var k;var R;var N;var I;var P;var A;var C;(function(t){var r=typeof global==="object"?global:typeof self==="object"?self:typeof this==="object"?this:{};if(typeof define==="function"&&define.amd){define("tslib",["exports"],(function(e){t(createExporter(r,createExporter(e)))}))}else if(true&&typeof e.exports==="object"){t(createExporter(r,createExporter(e.exports)))}else{t(createExporter(r))}function createExporter(e,t){if(e!==r){if(typeof Object.create==="function"){Object.defineProperty(e,"__esModule",{value:true})}else{e.__esModule=true}}return function(r,i){return e[r]=t?t(r,i):i}}})((function(e){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};t=function(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");x(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)};r=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s))e[s]=t[s]}return e};i=function(e,t){var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0)r[i]=e[i];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++){if(t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s]))r[i[s]]=e[i[s]]}return r};s=function(e,t,r,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;c>=0;c--)if(o=e[c])n=(s<3?o(n):s>3?o(t,r,n):o(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};n=function(e,t){return function(r,i){t(r,i,e)}};o=function(e,t,r,i,s,n){function accept(e){if(e!==void 0&&typeof e!=="function")throw new TypeError("Function expected");return e}var o=i.kind,c=o==="getter"?"get":o==="setter"?"set":"value";var a=!t&&e?i["static"]?e:e.prototype:null;var l=t||(a?Object.getOwnPropertyDescriptor(a,i.name):{});var f,h=false;for(var u=r.length-1;u>=0;u--){var d={};for(var p in i)d[p]=p==="access"?{}:i[p];for(var p in i.access)d.access[p]=i.access[p];d.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");n.push(accept(e||null))};var m=(0,r[u])(o==="accessor"?{get:l.get,set:l.set}:l[c],d);if(o==="accessor"){if(m===void 0)continue;if(m===null||typeof m!=="object")throw new TypeError("Object expected");if(f=accept(m.get))l.get=f;if(f=accept(m.set))l.set=f;if(f=accept(m.init))s.unshift(f)}else if(f=accept(m)){if(o==="field")s.unshift(f);else l[c]=f}}if(a)Object.defineProperty(a,i.name,l);h=true};c=function(e,t,r){var i=arguments.length>2;for(var s=0;s<t.length;s++){r=i?t[s].call(e,r):t[s].call(e)}return i?r:void 0};a=function(e){return typeof e==="symbol"?e:"".concat(e)};l=function(e,t,r){if(typeof t==="symbol")t=t.description?"[".concat(t.description,"]"):"";return Object.defineProperty(e,"name",{configurable:true,value:r?"".concat(r," ",t):t})};f=function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};h=function(e,t,r,i){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i["throw"](e))}catch(e){s(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};u=function(e,t){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,s,n,o=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return o.next=verb(0),o["throw"]=verb(1),o["return"]=verb(2),typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function verb(e){return function(t){return step([e,t])}}function step(c){if(i)throw new TypeError("Generator is already executing.");while(o&&(o=0,c[0]&&(r=0)),r)try{if(i=1,s&&(n=c[0]&2?s["return"]:c[0]?s["throw"]||((n=s["return"])&&n.call(s),0):s.next)&&!(n=n.call(s,c[1])).done)return n;if(s=0,n)c=[c[0]&2,n.value];switch(c[0]){case 0:case 1:n=c;break;case 4:r.label++;return{value:c[1],done:false};case 5:r.label++;s=c[1];c=[0];continue;case 7:c=r.ops.pop();r.trys.pop();continue;default:if(!(n=r.trys,n=n.length>0&&n[n.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!n||c[1]>n[0]&&c[1]<n[3])){r.label=c[1];break}if(c[0]===6&&r.label<n[1]){r.label=n[1];n=c;break}if(n&&r.label<n[2]){r.label=n[2];r.ops.push(c);break}if(n[2])r.ops.pop();r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e];s=0}finally{i=n=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:true}}};d=function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))I(t,e,r)};I=Object.create?function(e,t,r,i){if(i===undefined)i=r;var s=Object.getOwnPropertyDescriptor(t,r);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable)){s={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,i,s)}:function(e,t,r,i){if(i===undefined)i=r;e[i]=t[r]};p=function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&i>=e.length)e=void 0;return{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};m=function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),s,n=[],o;try{while((t===void 0||t-- >0)&&!(s=i.next()).done)n.push(s.value)}catch(e){o={error:e}}finally{try{if(s&&!s.done&&(r=i["return"]))r.call(i)}finally{if(o)throw o.error}}return n};y=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e};g=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<r;t++)for(var n=arguments[t],o=0,c=n.length;o<c;o++,s++)i[s]=n[o];return i};_=function(e,t,r){if(r||arguments.length===2)for(var i=0,s=t.length,n;i<s;i++){if(n||!(i in t)){if(!n)n=Array.prototype.slice.call(t,0,i);n[i]=t[i]}}return e.concat(n||Array.prototype.slice.call(t))};b=function(e){return this instanceof b?(this.v=e,this):new b(e)};w=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),s,n=[];return s=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",awaitReturn),s[Symbol.asyncIterator]=function(){return this},s;function awaitReturn(e){return function(t){return Promise.resolve(t).then(e,reject)}}function verb(e,t){if(i[e]){s[e]=function(t){return new Promise((function(r,i){n.push([e,t,r,i])>1||resume(e,t)}))};if(t)s[e]=t(s[e])}}function resume(e,t){try{step(i[e](t))}catch(e){settle(n[0][3],e)}}function step(e){e.value instanceof b?Promise.resolve(e.value.v).then(fulfill,reject):settle(n[0][2],e)}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){if(e(t),n.shift(),n.length)resume(n[0][0],n[0][1])}};S=function(e){var t,r;return t={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),t[Symbol.iterator]=function(){return this},t;function verb(i,s){t[i]=e[i]?function(t){return(r=!r)?{value:b(e[i](t)),done:false}:s?s(t):t}:s}};v=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof p==="function"?p(e):e[Symbol.iterator](),r={},verb("next"),verb("throw"),verb("return"),r[Symbol.asyncIterator]=function(){return this},r);function verb(t){r[t]=e[t]&&function(r){return new Promise((function(i,s){r=e[t](r),settle(i,s,r.done,r.value)}))}}function settle(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}};O=function(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var D=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t};var ownKeys=function(e){ownKeys=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[t.length]=r;return t};return ownKeys(e)};F=function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ownKeys(e),i=0;i<r.length;i++)if(r[i]!=="default")I(t,e,r[i]);D(t,e);return t};T=function(e){return e&&e.__esModule?e:{default:e}};k=function(e,t,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(e):i?i.value:t.get(e)};R=function(e,t,r,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r};N=function(e,t){if(t===null||typeof t!=="object"&&typeof t!=="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e==="function"?t===e:e.has(t)};P=function(e,t,r){if(t!==null&&t!==void 0){if(typeof t!=="object"&&typeof t!=="function")throw new TypeError("Object expected.");var i,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose];if(r)s=i}if(typeof i!=="function")throw new TypeError("Object not disposable.");if(s)i=function(){try{s.call(this)}catch(e){return Promise.reject(e)}};e.stack.push({value:t,dispose:i,async:r})}else if(r){e.stack.push({async:true})}return t};var L=typeof SuppressedError==="function"?SuppressedError:function(e,t,r){var i=new Error(r);return i.name="SuppressedError",i.error=e,i.suppressed=t,i};A=function(e){function fail(t){e.error=e.hasError?new L(t,e.error,"An error was suppressed during disposal."):t;e.hasError=true}var t,r=0;function next(){while(t=e.stack.pop()){try{if(!t.async&&r===1)return r=0,e.stack.push(t),Promise.resolve().then(next);if(t.dispose){var i=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(i).then(next,(function(e){fail(e);return next()}))}else r|=1}catch(e){fail(e)}}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return next()};C=function(e,t){if(typeof e==="string"&&/^\.\.?\//.test(e)){return e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,r,i,s,n){return r?t?".jsx":".js":i&&(!s||!n)?e:i+s+"."+n.toLowerCase()+"js"}))}return e};e("__extends",t);e("__assign",r);e("__rest",i);e("__decorate",s);e("__param",n);e("__esDecorate",o);e("__runInitializers",c);e("__propKey",a);e("__setFunctionName",l);e("__metadata",f);e("__awaiter",h);e("__generator",u);e("__exportStar",d);e("__createBinding",I);e("__values",p);e("__read",m);e("__spread",y);e("__spreadArrays",g);e("__spreadArray",_);e("__await",b);e("__asyncGenerator",w);e("__asyncDelegator",S);e("__asyncValues",v);e("__makeTemplateObject",O);e("__importStar",F);e("__importDefault",T);e("__classPrivateFieldGet",k);e("__classPrivateFieldSet",R);e("__classPrivateFieldIn",N);e("__addDisposableResource",P);e("__disposeResources",A);e("__rewriteRelativeImportExtension",C)}));0&&0},573:e=>{"use strict";e.exports=require("node:buffer")},474:e=>{"use strict";e.exports=require("node:events")},760:e=>{"use strict";e.exports=require("node:path")},75:e=>{"use strict";e.exports=require("node:stream")},932:e=>{"use strict";e.exports=require("process")},16:e=>{"use strict";e.exports=require("url")}};var t={};function __nccwpck_require__(r){var i=t[r];if(i!==undefined){return i.exports}var s=t[r]={exports:{}};var n=true;try{e[r](s,s.exports,__nccwpck_require__);n=false}finally{if(n)delete t[r]}return s.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r=__nccwpck_require__(30);module.exports=r})();